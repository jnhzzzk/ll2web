<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>线损诊断分析应用 - 产品需求文档</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: "Microsoft YaHei", sans-serif;
            line-height: 1.6;
            color: #333;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #309C9F;
        }
        .back-button {
            display: inline-block;
            background-color: #309C9F;
            color: white;
            padding: 8px 16px;
            text-decoration: none;
            border-radius: 4px;
            font-size: 14px;
            transition: background-color 0.2s;
        }
        .back-button:hover {
            background-color: #256e70;
        }
        h1 {
            color: #309C9F;
            margin-top: 0;
            font-size: 28px;
        }
        h2, h3, h4 {
            color: #309C9F;
            margin-top: 1.5em;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f5f5f5;
        }
        .feature {
            background-color: #f9f9f9;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .feature-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        .feature-id {
            background-color: #e6f1f1;
            color: #309C9F;
            padding: 3px 6px;
            border-radius: 3px;
            font-size: 0.8em;
        }
        .interactions {
            background-color: #ffffff;
            border-left: 3px solid #309C9F;
            padding: 10px;
            margin-top: 10px;
        }
        .diagram {
            background-color: #fff;
            border: 1px solid #eaeaea;
            border-radius: 5px;
            padding: 10px;
            margin: 15px 0;
            overflow-x: auto;
        }
        pre {
            white-space: pre-wrap;
        }
        #toc {
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 30px;
        }
        #toc ul {
            list-style-type: none;
            padding-left: 15px;
        }
        #toc ul li {
            margin-bottom: 5px;
        }
        #toc a {
            text-decoration: none;
            color: #444;
        }
        #toc a:hover {
            color: #309C9F;
        }
        code {
            font-family: Consolas, monospace;
            background-color: #f5f5f5;
            padding: 2px 4px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>线损诊断分析应用 - 产品需求文档</h1>
            <a href="cn/index.html" class="back-button">返回首页</a>
        </div>
        
        <div id="toc">
            <h2>目录</h2>
            <ul>
                <li><a href="#overview">1. 项目概述</a></li>
                <li><a href="#usecase">2. 用例图</a></li>
                <li><a href="#sequence">3. 序列图</a>
                    <ul>
                        <li><a href="#sequence-diagnostic">3.1 线损异常诊断流程序列图</a></li>
                        <li><a href="#sequence-data">3.2 数据采集与分析序列图</a></li>
                    </ul>
                </li>
                <li><a href="#class">4. 类图</a></li>
                <li><a href="#features">5. 功能详情</a>
                    <ul>
                        <li><a href="#feature1">5.1 统计总览</a></li>
                        <li><a href="#feature2">5.2 台区筛选</a></li>
                        <li><a href="#feature3">5.3 诊断分析</a>
                            <ul>
                                <li><a href="#feature3-1">5.3.1 功能描述</a></li>
                                <li><a href="#feature3-2">5.3.2 智能诊断标签体系</a></li>
                                <li><a href="#feature3-3">5.3.3 用户界面</a></li>
                                <li><a href="#feature3-4">5.3.4 交互说明</a></li>
                            </ul>
                        </li>
                        <li><a href="#feature4">5.4 治理建议</a>
                            <ul>
                                <li><a href="#feature4-1">5.4.1 功能描述</a></li>
                                <li><a href="#feature4-2">5.4.2 标准化治理流程</a></li>
                                <li><a href="#feature4-3">5.4.3 诊断标签与治理措施对应表</a></li>
                                <li><a href="#feature4-4">5.4.4 用户界面</a></li>
                                <li><a href="#feature4-5">5.4.5 交互说明</a></li>
                            </ul>
                        </li>
                        <li><a href="#feature5">5.5 辅助功能</a></li>
                    </ul>
                </li>
                <li><a href="#theoretical">6. 理论基础</a></li>
                <li><a href="#loss-calculation">7. 线损计算方法</a>
                    <ul>
                        <li><a href="#loss-calculation-1">7.1 核心指标定义</a></li>
                        <li><a href="#loss-calculation-2">7.2 台区相对线损率计算</a></li>
                        <li><a href="#loss-calculation-3">7.3 理论线损计算方法</a></li>
                        <li><a href="#loss-calculation-4">7.4 模型选择策略</a></li>
                    </ul>
                </li>
                <li><a href="#abnormal-district-identification">8. 异常台区识别机制</a>
                    <ul>
                        <li><a href="#abnormal-district-1">8.1 台区异常分类体系</a></li>
                        <li><a href="#abnormal-district-2">8.2 异常台区识别标准</a></li>
                        <li><a href="#abnormal-district-3">8.3 扫描与预警流程</a></li>
                    </ul>
                </li>
                <li><a href="#diagnostic-algorithm">9. 诊断标签概率算法</a>
                    <ul>
                        <li><a href="#diagnostic-algorithm-1">9.1 诊断标签概率计算原理</a></li>
                        <li><a href="#diagnostic-algorithm-2">9.2 基础因子计算方法</a></li>
                        <li><a href="#diagnostic-algorithm-3">9.3 异常类型与诊断标签关系</a></li>
                        <li><a href="#diagnostic-algorithm-4">9.4 自动诊断算法流程</a></li>
                        <li><a href="#diagnostic-algorithm-5">9.5 算法性能与优化</a></li>
                        <li><a href="#diagnostic-algorithm-6">9.6 诊断算法元数据依赖</a></li>
                    </ul>
                </li>
                <li><a href="#non-functional">10. 非功能性需求</a>
                    <ul>
                        <li><a href="#non-functional-1">10.1 性能需求</a></li>
                        <li><a href="#non-functional-2">10.2 安全需求</a></li>
                        <li><a href="#non-functional-3">10.3 可用性需求</a></li>
                        <li><a href="#non-functional-4">10.4 兼容性需求</a></li>
                        <li><a href="#non-functional-5">10.5 可扩展性需求</a></li>
                        <li><a href="#non-functional-6">10.6 数据质量要求</a></li>
                    </ul>
                </li>
            </ul>
        </div>

        <section id="overview">
            <h2>1. 项目概述</h2>
            <p>线损诊断分析应用是一款部署在大数据平台之上的数据分析应用。本应用通过利用大数据平台的数据同步、数据开发、任务调度、指标中心、标签画像等能力，实现对台区线损的智能分析、异常诊断和治理建议，帮助电力运维人员快速获取线损异常情况，并提供标准化治理方案，有效降低线损率，提高电网运行效率。</p>
            
            <h3>1.1 业务背景</h3>
            <p>在当前能源转型和电网智能化发展背景下，线损管理作为衡量电网运行效率与资产利用水平的关键指标，已成为电力企业降本增效、提升经营质量的重要抓手。在国家"双碳"战略目标和新型电力系统建设要求下，精益化的线损管理对电网企业的经营管理提出了更高要求。</p>
            
            <p>目前，我国电网企业在线损管理工作中面临以下主要痛点与挑战：</p>
            <ul>
                <li><strong>线损异常问题识别难</strong>：随着配网规模扩大，台区数量呈几何级增长，依靠人工巡检方式已难以及时发现异常问题。传统线损监测方法缺乏精准的异常识别机制，无法有效锁定问题台区。</li>
                <li><strong>线损原因诊断复杂</strong>：线损异常原因涉及技术损耗、管理损耗与窃电损耗等多种类型，问题成因复杂多样，传统诊断方法依赖人工经验，缺乏系统化的分析方法，诊断效率低下。</li>
                <li><strong>线损治理缺乏闭环</strong>：线损管理工作缺乏标准化流程和闭环管理机制，问题发现到解决的全过程追踪不足，治理效果评估方法欠缺，难以形成持续改进的良性循环。</li>
                <li><strong>数据资源未充分挖掘</strong>：电力企业积累了海量的用电数据、设备台账和运行数据，但未能充分整合利用这些数据资源，数据价值潜力未被充分释放。</li>
            </ul>
            
            <h3>1.2 建设目标</h3>
            <p>大数据线损诊断分析应用旨在构建一套覆盖"监测-诊断-治理-评估"全流程的线损管理解决方案，实现以下具体目标：</p>
            <ul>
                <li><strong>建立多维线损指标体系</strong>：构建包含绝对线损率、理论线损率、相对线损率等在内的多维线损指标体系，为线损分析提供科学的评价标准。</li>
                <li><strong>实现异常台区智能识别</strong>：基于大数据技术建立台区线损异常识别模型，实现对长期高损、突发高损、长期负损、小负损、突发负损等异常类型的自动识别与分类，并形成高效的预警机制。</li>
                <li><strong>构建智能诊断引擎</strong>：融合领域专家经验和机器学习算法，构建线损异常诊断规则库，实现对异常台区问题原因的准确诊断，并给出诊断概率排序，支撑管理决策。</li>
                <li><strong>打造标准化治理流程</strong>：针对不同类型的线损异常问题，制定标准化的治理流程，实现问题闭环管理，建立治理效果评估机制。</li>
                <li><strong>搭建线损管理一体化平台</strong>：整合线损计算、异常识别、智能诊断、治理跟踪等功能，构建直观、易用的线损管理平台，支撑基层管理人员日常工作。</li>
            </ul>
            
            <h3>1.3 业务价值</h3>
            <p>大数据线损诊断分析应用的建设将为电力企业带来以下显著价值：</p>
            
            <h4>1.3.1 经济效益</h4>
            <ul>
                <li>降低线损率预计可实现0.3-0.5个百分点的提升，按照每降低0.1个百分点可节约电量1.2亿千瓦时计算，每年可为企业减少电量损失约3.6-6亿千瓦时</li>
                <li>提高工作效率，减少人力投入，预计每年可节约人工成本约1500万元</li>
                <li>延长设备寿命，减少因线损问题导致的设备故障，降低设备维修和更换成本</li>
            </ul>
            
            <h4>1.3.2 管理效益</h4>
            <ul>
                <li>建立数据驱动的线损管理模式，实现从"经验驱动"到"数据驱动"的转变</li>
                <li>形成标准化的线损问题处理流程，提升管理规范性和可复制性</li>
                <li>沉淀线损治理知识库，实现经验积累和知识传承</li>
                <li>提升线损管理的精细化水平，支撑配网精益化管理</li>
            </ul>
            
            <h4>1.3.3 社会效益</h4>
            <ul>
                <li>降低电网损耗，减少资源浪费，每年可减少碳排放约30万吨</li>
                <li>提高供电可靠性，改善用户用电体验</li>
                <li>有效发现和遏制窃电行为，维护电力市场秩序</li>
                <li>响应国家节能减排政策，助力"双碳"战略目标实现</li>
            </ul>
            
            <h3>1.4 总体架构</h3>
            <p>大数据线损诊断分析应用采用"数据层-模型层-应用层-展现层"的总体架构设计，实现线损管理全流程的智能化和数字化。</p>
            
            <div class="diagram">
                <pre class="mermaid">
graph TD
    subgraph 数据层
        A1[电能量数据] --> A[数据源接入]
        A2[设备台账] --> A
        A3[GIS数据] --> A
        A4[用户信息] --> A
        A5[运行事件] --> A
        A --> B[数据预处理]
        B --> C[数据质量控制]
        C --> D[主题数据建模]
        D --> E[数据存储]
    end

    subgraph 模型层
        E --> F[指标计算引擎]
        E --> G[异常识别模型]
        E --> H[智能诊断引擎]
        E --> I[治理评估模型]
    end

    subgraph 应用层
        F --> J[线损计算管理]
        G --> K[异常台区监测]
        H --> L[诊断分析系统]
        I --> M[治理闭环管理]
        N[系统集成服务] --- J & K & L & M
    end

    subgraph 展现层
        J & K & L & M --> O[可视化大屏]
        J & K & L & M --> P[Web管理门户]
        J & K & L & M --> Q[移动应用]
        J & K & L & M --> R[报表导出]
    end

    S[安全管理] --- 数据层 & 模型层 & 应用层 & 展现层
                </pre>
            </div>
            
            <p><strong>架构说明：</strong></p>
            <ol>
                <li><strong>数据层</strong>：负责各类数据源的接入、预处理、质量控制和存储，为上层分析提供可靠的数据基础。主要包括电能量数据、设备台账、GIS数据、用户信息、运行事件等数据源。</li>
                <li><strong>模型层</strong>：基于数据层构建各类分析模型和计算引擎，实现线损指标计算、异常识别、智能诊断和治理评估等核心功能。</li>
                <li><strong>应用层</strong>：围绕线损管理业务流程，提供线损计算管理、异常台区监测、诊断分析系统、治理闭环管理等应用功能，支撑日常业务开展。</li>
                <li><strong>展现层</strong>：通过可视化大屏、Web管理门户、移动应用和报表导出等多种形式，实现数据和分析结果的直观展示，满足不同层级用户的需求。</li>
                <li><strong>安全管理</strong>：贯穿各层级的安全保障体系，确保数据安全、系统安全和访问控制。</li>
            </ol>
            
            <h3>1.5 线损异常类型</h3>
            <table>
                <tr>
                    <th>异常类型</th>
                    <th>定义</th>
                    <th>识别标准</th>
                    <th>处理优先级</th>
                </tr>
                <tr>
                    <td>合格</td>
                    <td>在较长统计期内绝对线损和相对线损均处于指标要求的合格区间内</td>
                    <td>近30天内，不被其他线损异常类型规则识别到</td>
                    <td>0（合格不计入异常）</td>
                </tr>
                <tr>
                    <td>长期高损</td>
                    <td>相对线损率持续≥+3%，且异常持续时间≥3个月的台区</td>
                    <td>连续3个月的相对线损率≥3%，且标准差<2%，表明异常状态相对稳定</td>
                    <td>1（最高优先级）</td>
                </tr>
                <tr>
                    <td>突发高损</td>
                    <td>相对线损率短期内≥+5%，且异常持续时间<3个月的台区</td>
                    <td>相对线损率≥5%，相比前一时段增长≥3个百分点，且当前线损率超过历史同期平均水平的2倍</td>
                    <td>2</td>
                </tr>
                <tr>
                    <td>长期负损</td>
                    <td>相对线损率持续≤-3%，且异常持续时间≥3个月的台区</td>
                    <td>连续3个月相对线损率≤-3%，且负损状态稳定</td>
                    <td>3</td>
                </tr>
                <tr>
                    <td>小负损</td>
                    <td>相对线损率在-3%到-1%之间，且持续时间≥1个月的台区</td>
                    <td>近1个月内相对线损率在-3%至-1%之间，且波动不大</td>
                    <td>5</td>
                </tr>
                <tr>
                    <td>突发负损</td>
                    <td>相对线损率短期内≤-5%，且异常持续时间<1个月的台区</td>
                    <td>相对线损率在短期内降至≤-5%，相比前一时段降低显著</td>
                    <td>4</td>
                </tr>
            </table>
            
            <h3>1.6 用户角色</h3>
            <table>
                <tr>
                    <th>角色</th>
                    <th>职责描述</th>
                    <th>关注点</th>
                </tr>
                <tr>
                    <td>运维工程师</td>
                    <td>负责日常线损监测、异常处理和治理实施</td>
                    <td>异常检测、诊断分析、治理建议</td>
                </tr>
                <tr>
                    <td>台区管理人员</td>
                    <td>负责台区整体运行状况监控和资源调配</td>
                    <td>统计总览、异常台区筛选、绩效数据</td>
                </tr>
                <tr>
                    <td>决策管理层</td>
                    <td>制定线损管理策略，评估治理效果</td>
                    <td>统计报表、趋势分析、经济效益评估</td>
                </tr>
            </table>
        </section>

        <section id="usecase">
            <h2>2. 用例图</h2>
            <div class="diagram">
                <pre class="mermaid">
graph LR
    subgraph 线损诊断分析应用
        统计[统计总览]
        筛选[异常台区筛选]
        诊断[台区诊断分析]
        处理[治理工单处理]
        
        统计 --> 筛选
        筛选 --> 诊断
        诊断 --> 处理
    end
    
    用户((用户)) --> 统计
    用户 --> 筛选
    用户 --> 诊断
    用户 --> 处理
    
    subgraph 大数据平台
        数据同步[数据同步]
        数据开发[数据开发/计算]
        任务调度[任务调度]
        指标中心[指标中心]
    end
    
    数据同步 --> 数据开发
    数据开发 --> 指标中心
    任务调度 --> 数据开发
    
    指标中心 --> 统计
    指标中心 --> 筛选
    指标中心 --> 诊断
                </pre>
            </div>
        </section>

        <section id="sequence">
            <h2>3. 序列图</h2>
            
            <h3>3.1 线损异常诊断流程序列图</h3>
            <div class="diagram">
                <pre class="mermaid">
sequenceDiagram
    actor 台区管理人员
    participant 筛选配置模块
    participant 异常检测模块
    participant 诊断分析模块
    participant 治理建议模块
    participant 工单系统
    
    台区管理人员->>筛选配置模块: 配置筛选条件
    筛选配置模块->>异常检测模块: 应用筛选条件
    异常检测模块-->>筛选配置模块: 返回异常台区列表
    
    异常检测模块->>诊断分析模块: 触发异常台区诊断
    诊断分析模块->>诊断分析模块: 执行标准化诊断算法
    诊断分析模块-->>异常检测模块: 返回诊断结果
    
    诊断分析模块->>治理建议模块: 生成治理建议
    治理建议模块->>治理建议模块: 基于诊断结果生成标准化治理建议
    治理建议模块->>工单系统: 生成治理工单
    工单系统-->>治理建议模块: 返回工单信息
    
    治理建议模块-->>台区管理人员: 返回治理建议和工单
    台区管理人员->>工单系统: 派发工单
    工单系统-->>台区管理人员: 确认工单派发
                </pre>
            </div>
            
            <h3>3.2 数据采集与分析序列图</h3>
            <div class="diagram">
                <pre class="mermaid">
sequenceDiagram
    participant 大数据平台_数据同步
    participant 大数据平台_数据开发
    participant 大数据平台_任务调度
    participant 大数据平台_指标中心
    participant 线损诊断应用
    
    大数据平台_数据同步->>大数据平台_数据开发: 定期同步基础数据
    大数据平台_数据开发->>大数据平台_数据开发: 执行实际线损计算任务
    大数据平台_数据开发->>大数据平台_数据开发: 执行理论线损计算任务
    
    大数据平台_任务调度->>大数据平台_数据开发: 定期调度线损计算任务
    大数据平台_数据开发->>大数据平台_指标中心: 更新线损相关指标
    
    大数据平台_任务调度->>大数据平台_数据开发: 定期调度异常线损台区识别任务
    大数据平台_数据开发->>大数据平台_数据开发: 基于指标执行异常台区筛选
    
    线损诊断应用->>大数据平台_指标中心: 查询线损指标数据
    大数据平台_指标中心-->>线损诊断应用: 返回线损指标数据
    
    线损诊断应用->>大数据平台_数据开发: 查询异常台区列表
    大数据平台_数据开发-->>线损诊断应用: 返回异常台区列表
    
    线损诊断应用->>线损诊断应用: 执行诊断分析算法
    线损诊断应用->>线损诊断应用: 生成治理建议和工单
                </pre>
            </div>
        </section>

        <section id="class">
            <h2>4. 类图</h2>
            <div class="diagram">
                <pre class="mermaid">
classDiagram
    class District {
        +String districtId
        +String name
        +String location
        +String type
        +Double capacity
        +Integer userCount
        +Double actualLossRate
        +Double theoreticalLossRate
        +String anomalyType
        +Date lastDiagnosisTime
        +getBasicInfo()
        +getAnomalyHistory()
        +getDiagnosticResult()
    }
    
    class StatisticsModule {
        +getSummaryData()
        +getLossDistribution()
        +getLossTrend()
        +getTopAnomalyDistricts()
        +exportReport()
    }
    
    class FilterModule {
        +Map filterConditions
        +Boolean isAutoScan
        +Date lastScanTime
        +applyFilter()
        +saveFilterConfig()
        +getAnomalyDistricts()
        +getScanInfo()
    }
    
    class DiagnosticModule {
        +String[] diagnosticTags
        +Map tagMatchProbability
        +runDiagnosticAlgorithm()
        +generateTags()
        +analyzeTrend()
        +compareIndicators()
        +identifyAbnormalUsers()
    }
    
    class GovernanceModule {
        +String[] governanceProcess
        +Map expertSuggestions
        +generateStandardProcess()
        +findSimilarCases()
        +calculateEconomicBenefit()
        +createWorkOrder()
        +trackEffectiveness()
    }
    
    class LossCalculation {
        +String calculationMethod
        +Map parameters
        +Double actualLossRate
        +Double theoreticalLossRate
        +Double relativeLossRate
        +calculateActualLoss()
        +calculateTheoreticalLoss()
        +validateCalculation()
    }
    
    class WorkOrder {
        +String orderId
        +String districtId
        +String type
        +String status
        +String priority
        +Date createTime
        +Date deadline
        +String[] actionItems
        +createOrder()
        +dispatchOrder()
        +updateStatus()
        +evaluateResult()
    }
    
    class DiagnosticRecord {
        +String recordId
        +String districtId
        +Date diagnosisTime
        +String anomalyType
        +String[] diagnosticTags
        +String[] suggestedActions
        +createRecord()
        +updateRecord()
        +linkToWorkOrder()
    }
    
    StatisticsModule -- District
    FilterModule -- District
    DiagnosticModule -- District
    GovernanceModule -- District
    District -- LossCalculation
    DiagnosticModule -- DiagnosticRecord
    GovernanceModule -- WorkOrder
    DiagnosticRecord -- WorkOrder
                </pre>
            </div>
        </section>

        <section id="features">
            <h2>5. 功能详情</h2>
            
            <div id="feature1" class="feature">
                <div class="feature-header">
                    <h3>5.1 统计总览</h3>
                    <span class="feature-id">F-001</span>
                </div>
                <p>统计总览功能为用户提供台区线损情况的全局视图，通过可视化图表和关键指标展示系统整体运行状况。</p>
                
                <h4>5.1.1 功能描述</h4>
                <ul>
                    <li>核心指标卡片：展示台区总数、异常台区数量、平均理论线损率和实际与理论线损差值等关键指标</li>
                    <li>绝对线损区间分布图：以图表形式展示不同线损率区间的台区数量分布</li>
                    <li>线损趋势分析：展示线损率随时间变化的趋势，支持日、周、月不同时间粒度的查看</li>
                    <li>相对线损分布：通过散点图展示理论线损与实际线损的分布关系</li>
                    <li>Top 5异常台区：展示线损异常最严重的五个台区，包括其基本信息和异常状态</li>
                </ul>
                
                <h4>5.1.2 用户界面</h4>
                <p>统计总览页面布局采用响应式设计，主要包含以下界面元素：</p>
                <ul>
                    <li>顶部筛选条件：时间范围选择（最近7天、30天、本季度、本年度）</li>
                    <li>核心指标卡片区：采用四等分布局，每个卡片包含图标、指标名称和数值</li>
                    <li>线损分布和趋势图表区：采用两列布局，左侧为线损区间分布柱状图，右侧为线损趋势折线图</li>
                    <li>相对线损散点图区：单列布局，展示散点分布图</li>
                    <li>异常台区列表区：表格形式展示Top 5异常台区</li>
                </ul>
                
                <h4>5.1.3 交互说明</h4>
                <div class="interactions">
                    <ul>
                        <li>时间范围选择：用户可通过下拉菜单选择不同的时间范围，系统会自动更新所有图表和数据</li>
                        <li>导出报告：点击导出按钮可将当前统计总览数据导出为PDF或Excel格式报告</li>
                        <li>趋势图时间粒度切换：用户可点击"日"、"周"、"月"按钮切换时间粒度</li>
                        <li>异常台区查看：点击"Top 5异常台区"中的"诊断"链接，可跳转至对应台区的诊断分析页面</li>
                        <li>散点图交互：鼠标悬停在散点上可查看该台区的详细信息</li>
                    </ul>
                </div>
            </div>
            
            <div id="feature2" class="feature">
                <div class="feature-header">
                    <h3>5.2 台区筛选</h3>
                    <span class="feature-id">F-002</span>
                </div>
                <p>台区筛选功能用于查看大数据平台定期扫描计算出的异常台区，并提供多维度的筛选条件，支持异常台区报表和二次筛选功能。</p>
                
                <h4>5.2.1 功能描述</h4>
                <ul>
                    <li>异常台区展示：展示大数据平台定期识别的异常台区列表，包括异常类型、线损指标等信息</li>
                    <li>二次筛选：提供多维度筛选条件配置，包括区域、线损率范围、台区类型、异常类型等</li>
                    <li>筛选配置保存：支持保存常用的筛选条件组合，方便下次快速使用</li>
                    <li>异常类型统计：展示不同异常类型的台区数量统计</li>
                    <li>扫描时间信息：展示异常台区最近一次扫描计算的时间</li>
                    <li>批量导出：支持将筛选结果批量导出为Excel或CSV格式</li>
                </ul>
                
                <h4>5.2.2 用户界面</h4>
                <p>台区筛选页面采用标签页设计，主要包含以下界面元素：</p>
                <ul>
                    <li>最近扫描信息：显示大数据平台最近一次异常台区扫描的时间和结果概览</li>
                    <li>异常类型统计卡片：以卡片形式展示各类异常台区的数量</li>
                    <li>二次筛选条件区：提供所属区域、线损率范围、台区类型、异常类型等筛选条件</li>
                    <li>异常台区列表：以表格形式展示系统识别出的异常台区列表</li>
                    <li>功能按钮区：包含保存配置、生成诊断报告等功能按钮</li>
                </ul>
                
                <h4>5.2.3 交互说明</h4>
                <div class="interactions">
                    <ul>
                        <li>数据更新提示：当大数据平台完成新一轮异常台区扫描时，系统自动提示用户有新数据</li>
                        <li>二次筛选：调整筛选条件后，系统在已识别的异常台区中进行二次筛选</li>
                        <li>保存配置：点击"保存配置"按钮可将当前筛选条件保存为命名配置</li>
                        <li>生成诊断报告：选择特定台区后，点击"生成诊断报告"可生成该台区的诊断报告</li>
                        <li>表格排序：点击表格列头可按该列进行排序</li>
                        <li>诊断分析：点击表格中的"诊断分析"链接可跳转至对应台区的诊断分析页面</li>
                    </ul>
                </div>
            </div>
            
            <div id="feature3" class="feature">
                <div class="feature-header">
                    <h3>5.3 诊断分析</h3>
                    <span class="feature-id">F-003</span>
                </div>
                <p>诊断分析功能是系统的核心，通过标准化诊断算法对异常台区进行自动分析，识别异常原因并生成诊断标签。</p>
                
                <h4>5.3.1 功能描述</h4>
                <ul>
                    <li>台区基本信息展示：展示所选台区的基本信息和线损异常概况</li>
                    <li>标准化诊断算法：根据异常类型自动执行对应的诊断算法</li>
                    <li>智能诊断标签：通过算法分析，生成可能的异常原因并附带匹配概率</li>
                    <li>线损波动溯源图：展示线损率随时间的变化，并标记关键节点</li>
                    <li>多维度对比分析：从用电量、负荷曲线、功率因数等多个维度分析异常原因</li>
                    <li>历史诊断记录：展示该台区历史上的诊断记录和处理情况</li>
                    <li>指标异常分析：展示与线损相关的各项指标异常情况</li>
                    <li>用户用电异常分析：识别台区内异常用电行为的用户</li>
                </ul>
                
                <h4>5.3.2 用户界面</h4>
                <p>诊断分析页面采用模块化设计，主要包含以下界面元素：</p>
                <ul>
                    <li>台区选择器：下拉菜单选择需要诊断的台区</li>
                    <li>台区基本信息卡片：展示台区基本信息和线损异常概况</li>
                    <li>诊断算法执行状态：显示当前诊断算法的执行状态和进度</li>
                    <li>诊断分类看板：以卡片形式展示智能诊断标签及匹配概率</li>
                    <li>线损波动溯源图：折线图展示线损率变化趋势</li>
                    <li>多维度分析图表：多种图表展示不同维度的分析结果</li>
                    <li>指标异常分析表格：表格形式展示各指标异常情况</li>
                    <li>用户用电异常列表：列表形式展示异常用电用户</li>
                </ul>
                
                <h4>5.3.3 交互说明</h4>
                <div class="interactions">
                    <ul>
                        <li>台区切换：通过下拉菜单选择不同的台区，系统自动执行诊断算法</li>
                        <li>诊断标签查看：点击智能诊断标签可展开查看该异常类型的详细说明</li>
                        <li>时间范围调整：可通过图表控件调整线损波动溯源图的时间范围</li>
                        <li>维度切换：点击标签可在不同维度的分析结果之间切换</li>
                        <li>生成治理建议：点击"生成治理建议"按钮，系统基于诊断结果生成治理建议并跳转至治理建议页面</li>
                        <li>异常用户详情：点击异常用户可查看其详细用电数据</li>
                    </ul>
                </div>
            </div>
            
            <div id="feature4" class="feature">
                <div class="feature-header">
                    <h3>5.4 治理建议</h3>
                    <span class="feature-id">F-004</span>
                </div>
                <p>治理建议功能基于诊断分析结果，自动生成标准化的治理流程和工单，帮助用户高效解决线损异常问题。针对不同类型的线损异常，系统提供相应的标准化治理流程，确保治理措施的有效性和一致性。</p>
                
                <h4>5.4.1 功能描述</h4>
                <ul>
                    <li>治理信息概览：展示线损异常相关的核心信息，如差值、影响电量、持续时间等</li>
                    <li>标准化治理流程：基于异常类型，提供分步骤的标准化治理流程</li>
                    <li>专家操作建议：根据诊断结果和历史案例，提供具体的操作建议</li>
                    <li>相似案例参考：展示历史上相似的案例及其解决方案</li>
                    <li>经济效益分析：分析线损异常造成的经济损失和治理后的预期收益</li>
                    <li>工单自动生成：根据诊断结果和治理建议自动生成治理工单</li>
                    <li>工单派发：支持将工单派发给相关运维人员</li>
                    <li>治理效果追踪：记录治理措施实施情况和效果评估</li>
                </ul>
                
                <h4>5.4.2 标准化治理流程</h4>
                <p>系统基于线损异常类型自动生成标准化治理流程：</p>
                
                <h5>5.4.2.1 长期高损治理流程</h5>
                <ol>
                    <li><strong>诊断分析阶段</strong>
                        <ul>
                            <li>收集台区基础信息和历史运行数据</li>
                            <li>运行智能诊断算法，生成诊断标签及概率排序</li>
                            <li>综合分析确定主要异常原因</li>
                        </ul>
                    </li>
                    <li><strong>现场核查阶段</strong>
                        <ul>
                            <li>根据诊断标签指引，针对性开展现场核查</li>
                            <li>检查CT互感器接线及倍率设置</li>
                            <li>系统台户关系与现场核对</li>
                            <li>用户用电设施检查</li>
                            <li>采集设备运行状态检查</li>
                            <li>三相负载分布检查</li>
                        </ul>
                    </li>
                    <li><strong>问题处置阶段</strong>
                        <ul>
                            <li>档案因素：更正系统档案，确保台户关系一致</li>
                            <li>计量因素：更换或校准计量装置，修正接线错误</li>
                            <li>采集因素：修复或更换故障采集设备，补全缺失数据</li>
                            <li>窃电因素：联合稽查部门处理窃电行为</li>
                            <li>技术因素：优化三相负载分布，更换老化设备</li>
                        </ul>
                    </li>
                    <li><strong>效果评估阶段</strong>
                        <ul>
                            <li>治理后7天内持续监测线损率变化</li>
                            <li>线损率降至合理范围（理论值±3%）视为治理有效</li>
                            <li>生成治理报告，记录问题及处置措施</li>
                        </ul>
                    </li>
                </ol>
                
                <h5>5.4.2.2 突发高损治理流程</h5>
                <ol>
                    <li><strong>快速响应阶段</strong>
                        <ul>
                            <li>线损监测系统触发突发高损告警</li>
                            <li>24小时内完成初步诊断分析</li>
                            <li>生成应急处置建议</li>
                        </ul>
                    </li>
                    <li><strong>原因排查阶段</strong>
                        <ul>
                            <li>优先检查与诊断标签对应的可能因素</li>
                            <li>设备故障状态</li>
                            <li>新增负荷情况</li>
                            <li>天气影响评估</li>
                            <li>漏电点排查</li>
                        </ul>
                    </li>
                    <li><strong>应急处置阶段</strong>
                        <ul>
                            <li>设备故障：紧急修复或更换故障设备</li>
                            <li>负荷突增：评估是否需要增容或调整供电方案</li>
                            <li>漏电故障：及时消除漏电点，防止安全事故</li>
                            <li>档案异常：快速更新系统档案信息</li>
                        </ul>
                    </li>
                    <li><strong>恢复监测阶段</strong>
                        <ul>
                            <li>处置完成后48小时内持续监测</li>
                            <li>确认线损率恢复正常水平</li>
                            <li>制定预防性维护计划，防止类似问题再次发生</li>
                        </ul>
                    </li>
                </ol>
                
                <h5>5.4.2.3 长期负损治理流程</h5>
                <ol>
                    <li><strong>系统性分析阶段</strong>
                        <ul>
                            <li>收集台区全面数据，包括计量装置参数、接线方式</li>
                            <li>运行负损专项诊断算法，识别可能原因</li>
                            <li>分析负损存在的系统性问题</li>
                        </ul>
                    </li>
                    <li><strong>重点检查阶段</strong>
                        <ul>
                            <li>按诊断标签概率排序，重点检查：</li>
                            <li>电能表接线正确性</li>
                            <li>互感器极性及接线正确性</li>
                            <li>系统台户关系完整性</li>
                            <li>光伏发电用户配置正确性</li>
                            <li>台区总表前是否存在用电设备</li>
                        </ul>
                    </li>
                    <li><strong>系统纠正阶段</strong>
                        <ul>
                            <li>修正计量装置接线问题</li>
                            <li>更新系统档案信息</li>
                            <li>调整不合理的计量点配置</li>
                            <li>规范光伏发电用户并网计量方式</li>
                        </ul>
                    </li>
                    <li><strong>长效监测阶段</strong>
                        <ul>
                            <li>建立台区负损专项监测机制</li>
                            <li>每月进行数据一致性核查</li>
                            <li>形成长期负损治理经验库</li>
                        </ul>
                    </li>
                </ol>
                
                <h5>5.4.2.4 小负损治理流程</h5>
                <ol>
                    <li><strong>模型评估阶段</strong>
                        <ul>
                            <li>评估理论线损计算模型适用性</li>
                            <li>检查模型参数与实际台区参数的匹配度</li>
                            <li>分析小负损的系统性原因</li>
                        </ul>
                    </li>
                    <li><strong>精细化核查阶段</strong>
                        <ul>
                            <li>检查互感器配置合理性</li>
                            <li>验证电表时钟同步状态</li>
                            <li>评估供电半径对线损计算的影响</li>
                            <li>检查数据采集质量</li>
                        </ul>
                    </li>
                    <li><strong>优化调整阶段</strong>
                        <ul>
                            <li>优化理论线损计算模型参数</li>
                            <li>调整互感器配置，提高计量精度</li>
                            <li>实施电表时钟同步</li>
                            <li>改善数据采集质量</li>
                        </ul>
                    </li>
                    <li><strong>模型验证阶段</strong>
                        <ul>
                            <li>应用优化后的模型重新计算理论线损</li>
                            <li>验证线损率是否回归合理范围</li>
                            <li>形成小负损台区治理经验</li>
                        </ul>
                    </li>
                </ol>
                
                <h5>5.4.2.5 突发负损治理流程</h5>
                <ol>
                    <li><strong>紧急诊断阶段</strong>
                        <ul>
                            <li>监测系统发出突发负损告警后12小时内响应</li>
                            <li>进行远程诊断，确定可能原因</li>
                            <li>安排现场检查计划</li>
                        </ul>
                    </li>
                    <li><strong>快速检查阶段</strong>
                        <ul>
                            <li>重点检查电表计量状态</li>
                            <li>检查互感器是否存在故障</li>
                            <li>核实是否有倍率变更未同步</li>
                            <li>检查功率因数补偿设备运行状态</li>
                        </ul>
                    </li>
                    <li><strong>快速纠正阶段</strong>
                        <ul>
                            <li>更换故障计量设备</li>
                            <li>修复接线错误</li>
                            <li>更新系统档案信息</li>
                            <li>调整功率因数补偿设备参数</li>
                        </ul>
                    </li>
                    <li><strong>后续跟踪阶段</strong>
                        <ul>
                            <li>处置后48小时内持续监测</li>
                            <li>确认问题是否彻底解决</li>
                            <li>分析突发负损根本原因</li>
                            <li>制定预防措施，避免再次发生</li>
                        </ul>
                    </li>
                </ol>
                
                <h4>5.4.3 诊断标签与治理措施对应表</h4>
                <table>
                    <tr>
                        <th>异常类型</th>
                        <th>诊断标签</th>
                        <th>治理措施</th>
                        <th>预期效果</th>
                    </tr>
                    <tr>
                        <td>长期高损</td>
                        <td>CT互感器倍率错误</td>
                        <td>校准CT互感器倍率，修正系统参数</td>
                        <td>线损率降低至正常水平</td>
                    </tr>
                    <tr>
                        <td>长期高损</td>
                        <td>档案户变关系异常</td>
                        <td>核实并更正台户关系档案</td>
                        <td>线损计算基础数据正确</td>
                    </tr>
                    <tr>
                        <td>长期高损</td>
                        <td>疑似低压窃电</td>
                        <td>组织专项稽查，处理窃电行为</td>
                        <td>消除非法用电，线损回归正常</td>
                    </tr>
                    <tr>
                        <td>突发高损</td>
                        <td>用电负荷突增</td>
                        <td>分析负荷变化原因，必要时增容改造</td>
                        <td>线损率符合负荷变化规律</td>
                    </tr>
                    <tr>
                        <td>突发高损</td>
                        <td>低压设备故障</td>
                        <td>更换或修复故障设备</td>
                        <td>消除额外损耗，线损恢复正常</td>
                    </tr>
                    <tr>
                        <td>长期负损</td>
                        <td>计量装置接线错误</td>
                        <td>检查并修正接线方式</td>
                        <td>计量准确，线损率回归正值</td>
                    </tr>
                    <tr>
                        <td>长期负损</td>
                        <td>电表正反向接错</td>
                        <td>校正电表接线，确保计量方向正确</td>
                        <td>计量准确，线损率为正值</td>
                    </tr>
                    <tr>
                        <td>小负损</td>
                        <td>理论模型计算偏差</td>
                        <td>优化理论线损计算模型参数</td>
                        <td>理论值与实际值匹配度提高</td>
                    </tr>
                    <tr>
                        <td>小负损</td>
                        <td>采集数据偏差</td>
                        <td>改善数据采集质量，确保数据同步</td>
                        <td>计算基础数据准确</td>
                    </tr>
                    <tr>
                        <td>突发负损</td>
                        <td>电表计量故障</td>
                        <td>更换故障电表，恢复正常计量</td>
                        <td>计量准确，线损率回归正常</td>
                    </tr>
                    <tr>
                        <td>突发负损</td>
                        <td>倍率变更未同步</td>
                        <td>及时更新系统档案，保持一致性</td>
                        <td>系统参数正确，计算准确</td>
                    </tr>
                </table>
                
                <h4>5.4.4 用户界面</h4>
                <p>治理建议页面采用流程化设计，主要包含以下界面元素：</p>
                <ul>
                    <li>台区选择器：下拉菜单选择需要治理的台区</li>
                    <li>治理信息概览卡片：展示线损异常关键信息</li>
                    <li>标准化治理流程图：时间线形式展示治理流程步骤</li>
                    <li>专家建议卡片：展示针对当前异常的专家建议</li>
                    <li>相似案例列表：列表形式展示相似案例</li>
                    <li>经济效益分析图表：图表形式展示经济效益分析</li>
                    <li>工单生成表单：包含工单相关信息的表单</li>
                </ul>
                
                <h4>5.4.5 交互说明</h4>
                <div class="interactions">
                    <ul>
                        <li>台区切换：通过下拉菜单选择不同的台区，系统会自动加载对应台区的治理建议</li>
                        <li>流程步骤展开：点击流程步骤可展开查看该步骤的详细说明和操作指南</li>
                        <li>相似案例查看：点击相似案例可查看案例详情</li>
                        <li>工单生成：填写工单表单，点击提交生成治理工单</li>
                        <li>导出报告：点击"导出报告"按钮可将治理建议导出为PDF格式</li>
                        <li>治理效果追踪：点击"记录结果"按钮可记录治理实施情况和效果</li>
                    </ul>
                </div>
            </div>
            
            <div id="feature5" class="feature">
                <div class="feature-header">
                    <h3>5.5 辅助功能</h3>
                    <span class="feature-id">F-005</span>
                </div>
                <p>辅助功能提供系统使用说明、计算工具、系统状态监控等支持性功能，提升用户使用体验。</p>
                
                <h4>5.5.1 功能描述</h4>
                <ul>
                    <li>系统功能说明：提供各模块功能的详细说明</li>
                    <li>数据采集说明：说明系统数据的采集频率、来源和质量标准</li>
                    <li>常见问题解答：解答用户常见疑问</li>
                    <li>计算工具：提供线损率计算、CT倍率计算等常用计算工具</li>
                    <li>系统状态监控：展示系统运行状态、数据采集状态等</li>
                    <li>帮助支持：提供用户手册、接口文档、在线帮助等资源链接</li>
                </ul>
                
                <h4>5.5.2 用户界面</h4>
                <p>辅助功能页面采用分区设计，主要包含以下界面元素：</p>
                <ul>
                    <li>左侧内容区：展示系统说明、数据采集说明、常见问题等内容</li>
                    <li>右侧工具区：包含计算工具、系统状态、帮助支持等功能模块</li>
                </ul>
                
                <h4>5.5.3 交互说明</h4>
                <div class="interactions">
                    <ul>
                        <li>计算工具使用：输入相关参数，点击计算按钮获取计算结果</li>
                        <li>系统状态查看：查看系统运行状态和数据采集状态</li>
                        <li>帮助资源访问：点击相关链接访问用户手册、接口文档等资源</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="theoretical">
            <h2>6. 理论基础</h2>
            <p>线损管理的基础在于科学、准确的线损指标体系。系统建立了多维度的线损指标体系，以支撑线损异常识别与诊断分析。</p>
            
            <h3>6.1 基础线损指标</h3>
            <ul>
                <li><strong>供电量</strong>：指计量周期内电力系统向用户供应的电能量，一般通过电力计量装置测量得到。</li>
                <li><strong>售电量</strong>：指计量周期内电力企业向用户实际销售的电能量，一般通过电能表计量记录。</li>
                <li><strong>线损电量</strong>：指电能在输送过程中消耗的电量，计算公式为：
                    <pre>线损电量 = 供电量 - 售电量</pre>
                </li>
                <li><strong>台区供电量</strong>：特定台区在计量周期内的总供电电量，通过台区总表计量获取：
                    <pre>台区供电量 = ∑(总表计量值)</pre>
                </li>
                <li><strong>台区售电量</strong>：特定台区在计量周期内的总售电电量，通过汇总台区内所有用户电表计量值获取：
                    <pre>台区售电量 = ∑∑(用户表计量值)</pre>
                </li>
            </ul>
            
            <h3>6.2 线损率指标</h3>
            <ul>
                <li><strong>绝对线损率（同期线损率）</strong>：指线损电量占供电量的百分比，是衡量线损水平的基本指标，计算公式为：
                    <pre>绝对线损率 = (线损电量 / 供电量) × 100%</pre>
                </li>
                <li><strong>台区绝对线损率</strong>：特定台区在计量周期内的线损率，计算公式为：
                    <pre>台区绝对线损率 = (台区供电量 - 台区售电量) / 台区供电量 × 100%</pre>
                </li>
                <li><strong>理论线损率</strong>：基于电网理论计算模型得出的线损率，反映在理想状态或标准运行条件下电网应有的线损水平。</li>
                <li><strong>相对线损率</strong>：实际线损率与理论线损率的差值，是识别线损异常的关键指标，计算公式为：
                    <pre>相对线损率 = 绝对线损率 - 理论线损率</pre>
                </li>
            </ul>
            
            <h3>6.3 线损分析周期</h3>
            <p>为全面监测线损变化趋势，系统支持多周期线损分析：</p>
            <ol>
                <li><strong>日线损</strong>：每日计算线损指标，适用于实时监控和突发异常检测</li>
                <li><strong>周线损</strong>：每周汇总计算线损指标，适用于短期趋势分析</li>
                <li><strong>月线损</strong>：每月汇总计算线损指标，是线损管理的主要周期</li>
                <li><strong>季线损</strong>：每季度汇总计算线损指标，适用于季节性分析</li>
                <li><strong>年线损</strong>：每年汇总计算线损指标，适用于长期绩效评估</li>
            </ol>
            
            <h3>7.2 台区相对线损率计算</h3>
            <p>相对线损率是识别线损异常的核心指标，其计算过程包括台区绝对线损率计算和台区理论线损率计算两个关键步骤。</p>
            
            <h4>7.2.1 台区绝对线损率计算流程</h4>
            <p>台区绝对线损率的计算需要保证数据的准确性和完整性，计算流程如下：</p>
            
            <div class="diagram">
                <pre class="mermaid">
flowchart TD
    A[台区计量数据采集] --> B{数据完整性检查}
    B -->|不完整| C[数据补全处理]
    C --> D
    B -->|完整| D[数据异常检查]
    D -->|异常| E[异常数据修正]
    E --> F
    D -->|正常| F[计算台区供电量]
    F --> G[获取台区用户列表]
    G --> H[汇总用户用电量]
    H --> I[计算台区售电量]
    I --> J[计算台区线损电量]
    J --> K[计算绝对线损率]
    K --> L[结果存储]
                </pre>
            </div>
            
            <h4>7.2.2 数据质量控制</h4>
            <p>为确保线损计算的准确性，系统实施严格的数据质量控制措施：</p>
            
            <ol>
                <li><strong>数据完整性检查</strong>：检查计量数据是否存在缺失，对于缺失数据采用以下策略处理：
                    <ul>
                        <li>短期缺失：采用线性插值法补齐</li>
                        <li>周期性数据：参考历史同期数据进行填补</li>
                        <li>长期缺失：标记为异常台区，人工干预处理</li>
                    </ul>
                </li>
                <li><strong>异常值检测</strong>：采用统计分析方法识别异常计量值：
                    <ul>
                        <li>3σ原则：识别远离均值的数据点</li>
                        <li>时间序列分析：识别与历史趋势不符的数据点</li>
                        <li>同期比对：与历史同期数据比对识别异常</li>
                    </ul>
                </li>
                <li><strong>台户关系校验</strong>：确保台区用户归属关系的准确性：
                    <ul>
                        <li>定期同步台户关系数据</li>
                        <li>自动检测台户关系变更</li>
                        <li>对异常的台户关系进行标记和提醒</li>
                    </ul>
                </li>
            </ol>
            
            <h3>7.3 理论线损计算方法</h3>
            <p>准确的理论线损率计算是相对线损率分析的基础。本系统支持多种理论线损率计算方法，根据台区特性和数据可用性选择最适合的计算模型。</p>
            
            <h4>7.3.1 技术线损计算法</h4>
            <p>基于电力系统物理特性和网络拓扑结构，计算线路、变压器等设备在运行过程中产生的技术损耗。</p>
            
            <h5>计算原理</h5>
            <p>将台区网络划分为变压器、干线、支线等组件，分别计算各组件的损耗，然后汇总得到台区整体技术损耗。</p>
            
            <h5>核心公式</h5>
            <p><strong>线路损耗计算</strong>：</p>
            <pre>P(线路) = 3 × I² × R × L × 10⁻³</pre>
            <p>其中：</p>
            <ul>
                <li>P(线路)：线路损耗功率(kW)</li>
                <li>I：线路电流(A)</li>
                <li>R：线路单位长度电阻(Ω/km)</li>
                <li>L：线路长度(km)</li>
            </ul>
            
            <p><strong>变压器损耗计算</strong>：</p>
            <pre>P(变压器) = P₀ + β² × Pₖ</pre>
            <p>其中：</p>
            <ul>
                <li>P(变压器)：变压器总损耗(kW)</li>
                <li>P₀：变压器空载损耗(kW)</li>
                <li>Pₖ：变压器额定负载损耗(kW)</li>
                <li>β：变压器负载率</li>
            </ul>
            
            <p><strong>台区技术线损率</strong>：</p>
            <pre>η(技术) = W(技术损耗) / W(供电) × 100%</pre>
            
            <h5>优缺点</h5>
            <ul>
                <li><strong>优点</strong>：物理原理明确，计算结果可解释性强</li>
                <li><strong>缺点</strong>：需要详细的网络参数和精确的负荷分布数据，数据需求量大</li>
            </ul>
            
            <h4>7.3.2 压降法</h4>
            <p>通过测量电网不同节点的电压降落，结合负荷分布情况，推算线损水平。</p>
            
            <h5>计算原理</h5>
            <p>利用配电线路电压与电流的关系，通过测量网络不同节点的电压降，计算线路损耗。</p>
            
            <h5>核心公式</h5>
            <pre>P(损) = P(负荷) × ΔU / U(额定) × k</pre>
            <p>其中：</p>
            <ul>
                <li>P(损)：线路损耗功率(kW)</li>
                <li>P(负荷)：线路负荷功率(kW)</li>
                <li>ΔU：线路电压降落值(V)</li>
                <li>U(额定)：额定电压值(V)</li>
                <li>k：修正系数，与功率因数和负荷特性有关</li>
            </ul>
            
            <h5>优缺点</h5>
            <ul>
                <li><strong>优点</strong>：计算简便，对网络参数要求较低</li>
                <li><strong>缺点</strong>：精度较技术线损法低，受测量误差影响大</li>
            </ul>
            
            <h4>7.3.3 回归法</h4>
            <p>基于历史数据建立统计回归模型，分析供电量与线损量之间的关系，预测线损水平。</p>
            
            <h5>计算原理</h5>
            <p>通过分析历史数据中供电量、环境因素、负荷特性等因素与线损率的关系，建立多元回归模型。</p>
            
            <h5>核心模型</h5>
            <pre>η(理论) = α₀ + α₁ × P(负荷) + α₂ × T + α₃ × F(负载) + ... + ε</pre>
            <p>其中：</p>
            <ul>
                <li>η(理论)：理论线损率</li>
                <li>P(负荷)：负荷功率</li>
                <li>T：环境温度</li>
                <li>F(负载)：负载因数</li>
                <li>α₀, α₁, α₂, ...：回归系数</li>
                <li>ε：误差项</li>
            </ul>
            
            <h5>优缺点</h5>
            <ul>
                <li><strong>优点</strong>：模型适应性强，可考虑多种影响因素</li>
                <li><strong>缺点</strong>：依赖历史数据质量，需要定期更新模型参数</li>
            </ul>
            
            <h4>7.3.4 赋值法</h4>
            <p>根据台区类型、负荷特性等因素，参照行业标准或历史经验，为不同类型的台区赋予标准的理论线损率。</p>
            
            <h5>计算原理</h5>
            <p>基于台区分类和标杆管理思想，按照台区的关键特征进行分类，为每类台区设置标准理论线损率。</p>
            
            <h5>赋值标准示例</h5>
            <table>
                <tr>
                    <th>台区类型</th>
                    <th>负荷密度</th>
                    <th>供电半径</th>
                    <th>理论线损率基准值</th>
                </tr>
                <tr>
                    <td>城市住宅</td>
                    <td>高</td>
                    <td>短</td>
                    <td>3.2%</td>
                </tr>
                <tr>
                    <td>城市商业</td>
                    <td>高</td>
                    <td>短</td>
                    <td>3.8%</td>
                </tr>
                <tr>
                    <td>城乡结合部</td>
                    <td>中</td>
                    <td>中</td>
                    <td>4.5%</td>
                </tr>
                <tr>
                    <td>农村台区</td>
                    <td>低</td>
                    <td>长</td>
                    <td>5.5%</td>
                </tr>
                <tr>
                    <td>工业台区</td>
                    <td>极高</td>
                    <td>短</td>
                    <td>2.8%</td>
                </tr>
            </table>
            
            <h5>调整系数</h5>
            <p>基准线损率还需根据以下因素进行调整：</p>
            <ul>
                <li>季节因素：夏季 × 1.15，冬季 × 1.10，春秋季 × 1.0</li>
                <li>电缆化率：每提高10%，线损率 × 0.98</li>
                <li>变压器利用率：利用率偏低，线损率 × 1.05；利用率适中，线损率 × 1.0；利用率偏高，线损率 × 1.08</li>
                <li>三相不平衡度：每增加5%，线损率 × 1.03</li>
            </ul>
            
            <h5>优缺点</h5>
            <ul>
                <li><strong>优点</strong>：实施简单，维护成本低</li>
                <li><strong>缺点</strong>：精确度较低，难以适应台区运行状态的动态变化</li>
            </ul>
            
            <h3>7.4 模型选择策略</h3>
            <p>系统根据台区特性和数据可用性，采用以下策略选择最适合的理论线损计算模型：</p>
            
            <div class="diagram">
                <pre class="mermaid">
flowchart TD
    A[台区数据评估] --> B{完整的网络拓扑和参数?}
    B -->|是| C[技术线损法]
    B -->|否| D{完整的电压测量数据?}
    D -->|是| E[压降法]
    D -->|否| F{充足的历史线损数据?}
    F -->|是| G[回归法]
    F -->|否| H[赋值法]
    C & E & G & H --> I[计算结果评估]
    I -->|满足精度要求| J[应用于线损分析]
    I -->|不满足精度要求| K[调整参数重新计算]
                </pre>
            </div>
            
            <p>在实际应用中，系统会不断收集和优化模型参数，提高理论线损计算的准确性。同时，系统还支持针对不同台区特点组合使用多种方法，取其加权平均值作为最终的理论线损率。</p>
        </section>

        <section id="non-functional">
            <h2>10. 非功能性需求</h2>
            
            <div id="non-functional-1" class="feature">
                <div class="feature-header">
                    <h3>10.1 性能需求</h3>
                    <span class="feature-id">N-001</span>
                </div>
                <p>系统应满足以下性能需求：</p>
                <ul>
                    <li>单台区诊断分析响应时间 ≤ 5秒</li>
                    <li>批量诊断处理能力 ≥ 100台区/分钟</li>
                    <li>诊断标签匹配精度 ≥ 85%（Top-3匹配率）</li>
                </ul>
            </div>
            
            <div id="non-functional-2" class="feature">
                <div class="feature-header">
                    <h3>10.2 安全需求</h3>
                    <span class="feature-id">N-002</span>
                </div>
                <p>系统应满足以下安全需求：</p>
                <ul>
                    <li>数据安全：确保数据在传输和存储过程中的安全性</li>
                    <li>系统安全：确保系统稳定运行，防止非法访问和数据泄露</li>
                    <li>访问控制：对不同用户进行权限管理，防止越权操作</li>
                </ul>
            </div>
            
            <div id="non-functional-3" class="feature">
                <div class="feature-header">
                    <h3>10.3 可用性需求</h3>
                    <span class="feature-id">N-003</span>
                </div>
                <p>系统应满足以下可用性需求：</p>
                <ul>
                    <li>用户界面友好：操作界面简洁明了，易于用户理解和使用</li>
                    <li>系统稳定性：系统应保持稳定运行，减少故障发生频率</li>
                    <li>故障恢复：系统应具备快速恢复能力，减少故障对业务的影响</li>
                </ul>
            </div>
            
            <div id="non-functional-4" class="feature">
                <div class="feature-header">
                    <h3>10.4 兼容性需求</h3>
                    <span class="feature-id">N-004</span>
                </div>
                <p>系统应满足以下兼容性需求：</p>
                <ul>
                    <li>跨平台兼容：系统应支持多种操作系统和浏览器，确保用户在不同设备上都能正常使用</li>
                    <li>接口兼容：系统应提供标准化的接口，与其他系统进行数据交互和集成</li>
                    <li>数据格式兼容：系统应支持多种数据格式，便于与其他系统进行数据交换</li>
                </ul>
            </div>
            
            <div id="non-functional-5" class="feature">
                <div class="feature-header">
                    <h3>10.5 可扩展性需求</h3>
                    <span class="feature-id">N-005</span>
                </div>
                <p>系统应满足以下可扩展性需求：</p>
                <ul>
                    <li>模块化设计：系统应采用模块化设计，便于功能扩展和模块替换</li>
                    <li>接口开放：系统应提供开放的接口，便于与其他系统进行集成和扩展</li>
                    <li>数据共享：系统应支持数据共享，便于不同模块之间的数据交互</li>
                </ul>
            </div>
            
            <div id="non-functional-6" class="feature">
                <div class="feature-header">
                    <h3>10.6 数据质量要求</h3>
                    <span class="feature-id">N-006</span>
                </div>
                <p>系统应满足以下数据质量要求：</p>
                <ul>
                    <li>数据准确性：确保数据采集的准确性和可靠性</li>
                    <li>数据一致性：确保数据在不同模块之间的数据一致性</li>
                    <li>数据完整性：确保数据采集的完整性，避免数据丢失和重复</li>
                    <li>数据时效性：确保数据采集的及时性，满足业务需求</li>
                </ul>
            </div>
        </section>

        <section id="abnormal-district-identification">
            <h2>8. 异常台区识别机制</h2>
            
            <h3 id="abnormal-district-1">8.1 台区异常分类体系</h3>
            <p>针对不同类型的线损异常，系统建立了完善的分类体系，为后续诊断与治理提供基础。</p>
            
            <h4>8.1.1 异常分类原则</h4>
            <p>台区线损异常分类基于以下原则进行：</p>
            <ol>
                <li><strong>相对线损率导向</strong>：以实际线损率与理论线损率的差值（相对线损率）作为主要分类依据，既考虑线损异常的方向（高损或负损），也考虑其幅度。</li>
                <li><strong>时间维度区分</strong>：根据异常状态持续的时间长短，区分长期异常与突发异常，以便采取不同的治理策略。</li>
                <li><strong>管理重点突出</strong>：突出管理重点，将对电网运行质量和经济效益影响较大的异常类型作为重点分类对象。</li>
                <li><strong>原因导向分类</strong>：分类体系设计考虑异常背后的可能原因，使分类结果能够直接指导后续诊断和治理工作。</li>
            </ol>
            
            <h4>8.1.2 线损异常分类体系</h4>
            <p>基于上述原则，系统建立了以下线损异常分类体系：</p>
            
            <div class="diagram">
                <pre class="mermaid">
graph TD
    A[台区线损异常] --> B[高损异常]
    A --> C[负损异常]
    B --> D[长期高损]
    B --> E[突发高损]
    C --> F[长期负损]
    C --> G[小负损]
    C --> H[突发负损]
    
    D --> I["持续时间≥3个月<br>相对线损率≥+3%"]
    E --> J["持续时间<3个月<br>相对线损率≥+5%"]
    F --> K["持续时间≥3个月<br>相对线损率≤-3%"]
    G --> L["持续时间≥1个月<br>-3%<相对线损率≤-1%"]
    H --> M["持续时间<1个月<br>相对线损率≤-5%"]
                </pre>
            </div>
            
            <p><strong>各类型异常特征说明：</strong></p>
            <ol>
                <li><strong>长期高损台区</strong>
                    <ul>
                        <li>定义：相对线损率持续≥+3%，且异常持续时间≥3个月的台区</li>
                        <li>主要特征：线损率长期高于理论水平，且偏差稳定</li>
                        <li>典型原因：计量装置问题、档案管理问题、低压线路老化、用电窃漏电等长期存在的问题</li>
                    </ul>
                </li>
                <li><strong>突发高损台区</strong>
                    <ul>
                        <li>定义：相对线损率短期内≥+5%，且异常持续时间<3个月的台区</li>
                        <li>主要特征：线损率在短期内急剧升高，与历史水平相比有显著变化</li>
                        <li>典型原因：设备突发故障、短期大负荷、季节性因素影响、计量装置突发异常等</li>
                    </ul>
                </li>
                <li><strong>长期负损台区</strong>
                    <ul>
                        <li>定义：相对线损率持续≤-3%，且异常持续时间≥3个月的台区</li>
                        <li>主要特征：实际线损率长期低于理论水平，甚至出现负值</li>
                        <li>典型原因：计量装置接线错误、互感器极性反接、台区户表对应关系错误等</li>
                    </ul>
                </li>
                <li><strong>小负损台区</strong>
                    <ul>
                        <li>定义：相对线损率在-3%到-1%之间，且持续时间≥1个月的台区</li>
                        <li>主要特征：线损率轻微为负，但波动不大</li>
                        <li>典型原因：理论线损模型参数设置不合理、计量误差、负荷变化等</li>
                    </ul>
                </li>
                <li><strong>突发负损台区</strong>
                    <ul>
                        <li>定义：相对线损率短期内≤-5%，且异常持续时间<1个月的台区</li>
                        <li>主要特征：线损率在短期内急剧下降至负值</li>
                        <li>典型原因：计量装置突发故障、数据采集异常、互感器短时异常等</li>
                    </ul>
                </li>
            </ol>
            
            <h4>8.1.3 异常类型与治理优先级</h4>
            <p>不同类型的线损异常对电网运行和经济效益的影响不同，系统对各类异常设定治理优先级，指导资源分配和治理排序：</p>
            
            <table>
                <tr>
                    <th>异常类型</th>
                    <th>优先级</th>
                    <th>优先级说明</th>
                </tr>
                <tr>
                    <td>长期高损</td>
                    <td>最高</td>
                    <td>长期存在大量电量损失，经济损失严重，需优先处理</td>
                </tr>
                <tr>
                    <td>突发高损</td>
                    <td>高</td>
                    <td>可能存在安全隐患，需快速响应处理</td>
                </tr>
                <tr>
                    <td>长期负损</td>
                    <td>中高</td>
                    <td>长期计量不准，影响经营数据准确性，但无直接经济损失</td>
                </tr>
                <tr>
                    <td>突发负损</td>
                    <td>中</td>
                    <td>可能预示设备故障，需及时跟进</td>
                </tr>
                <tr>
                    <td>小负损</td>
                    <td>低</td>
                    <td>影响有限，可在资源充足时处理</td>
                </tr>
            </table>
            
            <h3 id="abnormal-district-2">8.2 异常台区识别标准</h3>
            
            <h4>8.2.1 识别标准设计原则</h4>
            <p>异常台区识别标准设计遵循以下原则：</p>
            <ol>
                <li><strong>客观性</strong>：基于可测量的数据指标，避免主观判断</li>
                <li><strong>差异化</strong>：针对不同类型的异常，设置差异化的识别标准</li>
                <li><strong>适应性</strong>：考虑不同类型台区的特点，标准具有一定灵活性</li>
                <li><strong>可操作性</strong>：标准简明清晰，便于系统自动判断和操作人员理解</li>
            </ol>
            
            <h4>8.2.2 长期高损台区识别标准</h4>
            <p>长期高损台区需同时满足以下条件：</p>
            <ol>
                <li><strong>相对线损率条件</strong>：台区相对线损率 ≥ +3%</li>
                <li><strong>持续时间条件</strong>：异常状态持续时间 ≥ 3个月</li>
                <li><strong>稳定性条件</strong>：连续3个月的相对线损率标准差 < 2%，表明异常状态相对稳定</li>
                <li><strong>排除条件</strong>：排除季节性负荷变化导致的周期性高损，如果夏季空调负荷导致的高损，不属于此类</li>
            </ol>
            
            <p><strong>判定公式</strong>：</p>
            <pre>
Δη_i = η_实际,i - η_理论,i ≥ 3%
Count(Δη_i ≥ 3%) ≥ 3个月
σ(Δη_近3个月) < 2%
            </pre>
            <p>其中，Δη_i表示第i个月的相对线损率，σ表示标准差。</p>
            
            <h4>8.2.3 突发高损台区识别标准</h4>
            <p>突发高损台区需同时满足以下条件：</p>
            <ol>
                <li><strong>相对线损率条件</strong>：台区相对线损率 ≥ +5%</li>
                <li><strong>持续时间条件</strong>：异常状态持续时间 < 3个月</li>
                <li><strong>变化率条件</strong>：相比前一时段，相对线损率增长 ≥ 3个百分点</li>
                <li><strong>历史比对条件</strong>：当前线损率超过历史同期平均水平的2倍</li>
            </ol>
            
            <p><strong>判定公式</strong>：</p>
            <pre>
Δη_i = η_实际,i - η_理论,i ≥ 5%
Δη_i - Δη_i-1 ≥ 3%
η_实际,i ≥ 2 × 平均(η_实际,同期)
            </pre>
            <p>其中，平均(η_实际,同期)表示历史同期实际线损率的平均值。</p>
            
            <h4>8.2.4 长期负损台区识别标准</h4>
            <p>长期负损台区需同时满足以下条件：</p>
            <ol>
                <li><strong>相对线损率条件</strong>：台区相对线损率 ≤ -3%</li>
                <li><strong>持续时间条件</strong>：异常状态持续时间 ≥ 3个月</li>
                <li><strong>稳定性条件</strong>：连续观测期内的相对线损率波动较小</li>
            </ol>
            
            <p><strong>判定公式</strong>：</p>
            <pre>
Δη_i = η_实际,i - η_理论,i ≤ -3%
Count(Δη_i ≤ -3%) ≥ 3个月
σ(Δη_近3个月) < 2%
            </pre>
            
            <h4>8.2.5 小负损台区识别标准</h4>
            <p>小负损台区需同时满足以下条件：</p>
            <ol>
                <li><strong>相对线损率条件</strong>：台区相对线损率在-3% ~ -1%之间</li>
                <li><strong>持续时间条件</strong>：异常状态持续时间 ≥ 1个月</li>
            </ol>
            
            <p><strong>判定公式</strong>：</p>
            <pre>
-3% < Δη_i = η_实际,i - η_理论,i ≤ -1%
Count(-3% < Δη_i ≤ -1%) ≥ 1个月
            </pre>
            
            <h4>8.2.6 突发负损台区识别标准</h4>
            <p>突发负损台区需同时满足以下条件：</p>
            <ol>
                <li><strong>相对线损率条件</strong>：台区相对线损率 ≤ -5%</li>
                <li><strong>持续时间条件</strong>：异常状态持续时间 < 1个月</li>
                <li><strong>变化率条件</strong>：相比前一时段，相对线损率下降显著</li>
            </ol>
            
            <p><strong>判定公式</strong>：</p>
            <pre>
Δη_i = η_实际,i - η_理论,i ≤ -5%
Δη_i - Δη_i-1 ≤ -5%
            </pre>
            
            <h3 id="abnormal-district-3">8.3 扫描与预警流程</h3>
            <p>系统通过自动扫描和预警机制，及时发现异常台区，为线损管理提供主动预警服务。</p>
            
            <h4>8.3.1 异常台区扫描流程</h4>
            <div class="diagram">
                <pre class="mermaid">
flowchart TD
    A[台区基础数据采集] --> B[计算实际线损率]
    B --> C[计算理论线损率]
    C --> D[计算相对线损率]
    D --> E[异常特征提取]
    E --> F{是否满足异常条件?}
    F -->|是| G[确定异常类型]
    F -->|否| M[归类为正常台区]
    G --> H[异常台区入库]
    H --> I[异常程度评估]
    I --> J[确定处理优先级]
    J --> K[自动触发诊断分析]
    K --> L[生成异常预警]
                </pre>
            </div>
            
            <h4>8.3.2 预警触发与推送机制</h4>
            <p>系统根据异常类型和严重程度，设置不同级别的预警机制：</p>
            <table>
                <tr>
                    <th>预警级别</th>
                    <th>适用异常类型</th>
                    <th>触发条件</th>
                    <th>推送方式</th>
                    <th>处置时限要求</th>
                </tr>
                <tr>
                    <td>一级预警（红色）</td>
                    <td>突发高损</td>
                    <td>相对线损率≥8%，且持续3天以上</td>
                    <td>短信+APP推送+工作台弹窗</td>
                    <td>24小时内响应</td>
                </tr>
                <tr>
                    <td>二级预警（橙色）</td>
                    <td>长期高损、突发负损</td>
                    <td>长期高损：相对线损率≥5%，持续3个月<br>突发负损：相对线损率≤-8%</td>
                    <td>APP推送+工作台通知</td>
                    <td>48小时内响应</td>
                </tr>
                <tr>
                    <td>三级预警（黄色）</td>
                    <td>长期负损、严重小负损</td>
                    <td>长期负损：相对线损率≤-5%，持续3个月<br>严重小负损：相对线损率接近-3%</td>
                    <td>工作台通知</td>
                    <td>7天内响应</td>
                </tr>
                <tr>
                    <td>四级预警（蓝色）</td>
                    <td>一般小负损</td>
                    <td>相对线损率在-2%~-1%之间</td>
                    <td>系统内记录，定期汇总推送</td>
                    <td>15天内处理</td>
                </tr>
            </table>
            
            <h4>8.3.3 预警内容与格式</h4>
            <p>标准预警信息包含以下要素：</p>
            <ol>
                <li><strong>台区基本信息</strong>：台区编号、名称、所属区域、供电单位</li>
                <li><strong>异常类型与级别</strong>：异常类型分类、预警级别</li>
                <li><strong>关键指标数据</strong>：实际线损率、理论线损率、相对线损率、持续时间</li>
                <li><strong>历史对比分析</strong>：与历史同期数据的对比结果</li>
                <li><strong>预警推送时间</strong>：系统生成预警的时间</li>
                <li><strong>处置建议</strong>：系统针对该类异常的标准处置建议</li>
                <li><strong>处置时限</strong>：要求响应和处置的时限</li>
            </ol>
        </section>
        
        <section id="diagnostic-algorithm">
            <h2>9. 诊断标签概率算法</h2>
            
            <h3 id="diagnostic-algorithm-1">9.1 诊断标签概率计算原理</h3>
            <p>诊断标签概率计算是线损诊断分析的核心算法，通过对多种数据指标的加权计算，得出每个诊断标签与当前异常情况的匹配概率。该算法基于历史数据分析和专家经验，能够有效识别线损异常的根本原因。</p>
            
            <h4>9.1.1 基本计算框架</h4>
            <p>诊断标签概率采用多因子加权计算方法：</p>
            <pre><code>P(诊断标签) = Σ(权重i × 因子i)</code></pre>
            <p>其中，权重根据各因子对诊断结果的影响程度确定，因子值通过对原始数据的标准化处理获得。</p>
            
            <h4>9.1.2 专家规则修正</h4>
            <p>在基础概率计算的基础上，系统应用专家规则进行修正：</p>
            <pre><code>P_修正(诊断标签) = P(诊断标签) × 修正系数</code></pre>
            <p>修正系数根据专家经验和历史数据统计得出，一般取值范围为0.8~1.2。</p>
            
            <h3 id="diagnostic-algorithm-2">9.2 基础因子计算方法</h3>
            
            <h4>9.2.1 事件代码因子</h4>
            <p>基于电表事件记录计算的因子，用于识别设备异常：</p>
            <pre><code>f(Event) = 事件发生次数 / 观测周期天数</code></pre>
            <p>对于成对的发生/恢复事件：</p>
            <pre><code>f(Event-X, Event-Y) = min(1, 发生次数 / 最大允许次数) × (1 - 恢复次数 / 发生次数)</code></pre>
            
            <h4>9.2.2 线损稳定性因子</h4>
            <p>用于评估线损率的波动情况：</p>
            <pre><code>f(线损稳定性) = 1 - (线损率标准差 / 线损率平均值)</code></pre>
            <p>标准差越小，稳定性越高，因子值越接近1。</p>
            
            <h4>9.2.3 台户一致性因子</h4>
            <p>用于评估台区档案与实际用户的一致程度：</p>
            <pre><code>f(台户一致性) = 1 - (系统记录用户数 - 实际采集用户数) / 系统记录用户数</code></pre>
            
            <h4>9.2.4 负荷相关因子</h4>
            <p>用于评估负荷变化对线损的影响：</p>
            <pre><code>f(负荷率) = 实际负荷率 / 额定负荷率
f(负荷增幅) = min(1, (当前负荷 - 基准负荷) / 基准负荷 / 阈值增幅)</code></pre>
            
            <h4>9.2.5 时间相关性因子</h4>
            <p>用于评估异常事件与可疑事件的时间关联：</p>
            <pre><code>f(时间相关性) = exp(-|异常发生时间 - 可疑事件时间| / 时间衰减系数)</code></pre>
            
            <h4>9.2.6 三相不平衡度因子</h4>
            <p>用于评估三相负载不平衡程度：</p>
            <pre><code>f(不平衡度) = min(1, 实际不平衡度 / 阈值不平衡度)</code></pre>
            
            <h3 id="diagnostic-algorithm-3">9.3 异常类型与诊断标签关系</h3>
            
            <h4>9.3.1 长期高损诊断标签计算</h4>
            <table>
                <tr>
                    <th>诊断标签</th>
                    <th>计算公式</th>
                    <th>关键数据来源</th>
                </tr>
                <tr>
                    <td>CT互感器倍率错误</td>
                    <td>P = 0.8×f(E-269, E-270) + 0.2×f(线损稳定性)</td>
                    <td>电表事件记录、线损率历史数据</td>
                </tr>
                <tr>
                    <td>档案户变关系异常</td>
                    <td>P = 0.6×f(台户一致性) + 0.4×f(用户变更记录)</td>
                    <td>台区基础信息、用户变更历史</td>
                </tr>
                <tr>
                    <td>疑似低压窃电</td>
                    <td>P = 0.5×f(夜间用电模式) + 0.3×f(节假日用电异常) + 0.2×f(负荷突变)</td>
                    <td>用电负荷曲线、日期信息</td>
                </tr>
                <tr>
                    <td>采集设备故障</td>
                    <td>P = 0.7×f(通信中断率) + 0.3×f(数据缺失率)</td>
                    <td>通信质量记录、数据完整性记录</td>
                </tr>
                <tr>
                    <td>三相不平衡度高</td>
                    <td>P = f(不平衡度) × f(持续时间)</td>
                    <td>三相电流数据、异常持续时间</td>
                </tr>
            </table>
        </section>

    </div>
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            securityLevel: 'loose',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'cardinal'
            },
            sequenceDiagram: {
                useMaxWidth: true,
                bottomMarginAdj: 1
            },
            classDiagram: {
                useMaxWidth: true
            }
        });

        // 为各部分添加ID以支持目录导航
        document.addEventListener('DOMContentLoaded', function() {
            // 为序列图相关部分添加ID
            const sequenceSections = document.querySelectorAll('h3');
            sequenceSections.forEach(function(section) {
                if (section.textContent.includes('线损异常诊断流程序列图')) {
                    section.id = 'sequence-diagnostic';
                } else if (section.textContent.includes('数据采集与分析序列图')) {
                    section.id = 'sequence-data';
                }
            });

            // 为诊断分析子部分添加ID
            const diagnosticFeatures = document.querySelectorAll('h4');
            diagnosticFeatures.forEach(function(feature) {
                if (feature.textContent.includes('5.3.1')) {
                    feature.id = 'feature3-1';
                } else if (feature.textContent.includes('5.3.2')) {
                    feature.id = 'feature3-2';
                } else if (feature.textContent.includes('5.3.3')) {
                    feature.id = 'feature3-3';
                } else if (feature.textContent.includes('5.3.4')) {
                    feature.id = 'feature3-4';
                } else if (feature.textContent.includes('5.4.1')) {
                    feature.id = 'feature4-1';
                } else if (feature.textContent.includes('5.4.2')) {
                    feature.id = 'feature4-2';
                } else if (feature.textContent.includes('5.4.3')) {
                    feature.id = 'feature4-3';
                } else if (feature.textContent.includes('5.4.4')) {
                    feature.id = 'feature4-4';
                } else if (feature.textContent.includes('5.4.5')) {
                    feature.id = 'feature4-5';
                }
            });

            // 为诊断算法部分添加ID
            const algorithmSections = document.querySelectorAll('h3');
            algorithmSections.forEach(function(section, index) {
                if (section.textContent.includes('9.1')) {
                    section.id = 'diagnostic-algorithm-1';
                } else if (section.textContent.includes('9.2')) {
                    section.id = 'diagnostic-algorithm-2';
                } else if (section.textContent.includes('9.3')) {
                    section.id = 'diagnostic-algorithm-3';
                } else if (section.textContent.includes('9.4')) {
                    section.id = 'diagnostic-algorithm-4';
                } else if (section.textContent.includes('9.5')) {
                    section.id = 'diagnostic-algorithm-5';
                } else if (section.textContent.includes('9.6')) {
                    section.id = 'diagnostic-algorithm-6';
                }
            });

            // 为线损计算方法部分添加ID
            const lossSections = document.querySelectorAll('h3');
            lossSections.forEach(function(section) {
                if (section.textContent.includes('7.1')) {
                    section.id = 'loss-calculation-1';
                } else if (section.textContent.includes('7.2')) {
                    section.id = 'loss-calculation-2';
                } else if (section.textContent.includes('7.3')) {
                    section.id = 'loss-calculation-3';
                }
            });

            // 为非功能性需求部分添加ID
            const nonFunctionalSections = document.querySelectorAll('h3');
            nonFunctionalSections.forEach(function(section) {
                if (section.textContent.includes('8.1')) {
                    section.id = 'non-functional-1';
                } else if (section.textContent.includes('8.2')) {
                    section.id = 'non-functional-2';
                } else if (section.textContent.includes('8.3')) {
                    section.id = 'non-functional-3';
                } else if (section.textContent.includes('8.4')) {
                    section.id = 'non-functional-4';
                } else if (section.textContent.includes('8.5')) {
                    section.id = 'non-functional-5';
                } else if (section.textContent.includes('8.6')) {
                    section.id = 'non-functional-6';
                }
            });

            // 为主要章节添加ID
            const mainSections = document.querySelectorAll('h2');
            mainSections.forEach(function(section) {
                if (section.textContent.includes('非功能性需求')) {
                    section.id = 'non-functional';
                } else if (section.textContent.includes('诊断标签概率算法')) {
                    section.id = 'diagnostic-algorithm';
                } else if (section.textContent.includes('线损计算方法')) {
                    section.id = 'loss-calculation';
                } else if (section.textContent.includes('功能详情')) {
                    section.id = 'features';
                }
            });
        });
    </script>
</body>
</html> 