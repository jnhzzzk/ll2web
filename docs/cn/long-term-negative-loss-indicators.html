<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>长期负损原因分析指标体系</title>
    <style>
        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f7fa;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            background-color: #1890ff;
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 5px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        h1 {
            margin: 0;
            font-size: 28px;
        }
        .card {
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            overflow: hidden;
        }
        .card-header {
            background-color: #e6f7ff;
            padding: 15px 20px;
            border-bottom: 1px solid #e8e8e8;
            font-weight: bold;
            font-size: 18px;
            color: #1890ff;
        }
        .card-body {
            padding: 20px;
        }
        .indicator-group {
            margin-bottom: 30px;
        }
        .indicator {
            border-left: 4px solid #1890ff;
            padding: 10px 15px;
            margin-bottom: 15px;
            background-color: #f0f8ff;
            border-radius: 0 4px 4px 0;
        }
        .indicator.total {
            border-left-color: #722ed1;
            background-color: #f9f0ff;
        }
        .indicator.sub {
            border-left-color: #13c2c2;
            background-color: #e6fffb;
        }
        .indicator-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .indicator-desc {
            color: #666;
            font-size: 14px;
            margin-bottom: 5px;
        }
        .indicator-formula {
            font-family: 'Courier New', monospace;
            background-color: #f5f5f5;
            padding: 8px;
            border-radius: 4px;
            font-size: 14px;
            margin-top: 10px;
        }
        .visualization {
            margin-top: 15px;
            border: 1px solid #e8e8e8;
            border-radius: 4px;
            padding: 15px;
            background-color: white;
        }
        .viz-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #1890ff;
            font-size: 14px;
        }
        .chart {
            width: 100%;
            height: 200px;
            position: relative;
        }
        .chart-legend {
            display: flex;
            justify-content: center;
            margin-top: 10px;
            font-size: 12px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            margin: 0 10px;
        }
        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 2px;
            margin-right: 5px;
        }
        .axis-label {
            font-size: 12px;
            color: #666;
        }
        .relationships {
            border: 1px solid #e8e8e8;
            border-radius: 5px;
            padding: 20px;
            margin-top: 20px;
        }
        .diagram {
            width: 100%;
            height: 500px;
            margin: 30px 0;
            border: 1px solid #e8e8e8;
            border-radius: 5px;
            background-color: white;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        svg {
            width: 100%;
            height: 100%;
        }
        .node rect {
            stroke: #999;
            fill: #fff;
            stroke-width: 1.5px;
        }
        .edgePath path {
            stroke: #333;
            stroke-width: 1.5px;
        }
        footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            color: #666;
            font-size: 14px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #f5f7fa;
            font-weight: bold;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        tr:hover {
            background-color: #f0f8ff;
        }
        .bar-chart .bar {
            fill: #1890ff;
            transition: fill 0.3s;
        }
        .bar-chart .bar:hover {
            fill: #69c0ff;
        }
        .bar-chart .bar-label {
            font-size: 12px;
            text-anchor: middle;
        }
        .line-chart .line {
            fill: none;
            stroke: #1890ff;
            stroke-width: 2;
        }
        .line-chart .point {
            fill: #1890ff;
        }
        .line-chart .line.threshold {
            stroke: #f5222d;
            stroke-dasharray: 5,5;
        }
        .line-chart .area {
            fill: rgba(24, 144, 255, 0.1);
        }
        .line-chart .area.below-threshold {
            fill: rgba(245, 34, 45, 0.1);
        }
        .scatter-chart .point {
            fill: #1890ff;
            transition: r 0.3s;
        }
        .scatter-chart .point:hover {
            r: 6;
        }
        .scatter-chart .correlation-line {
            stroke: #722ed1;
            stroke-width: 2;
            stroke-dasharray: 5,5;
        }
        .heatmap-chart .cell {
            stroke: white;
            stroke-width: 1;
        }
        .heatmap-chart .cell-label {
            font-size: 10px;
            text-anchor: middle;
            dominant-baseline: middle;
            fill: white;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>长期负损原因分析指标体系</h1>
        </header>

        <div class="card">
            <div class="card-header">长期负损概述</div>
            <div class="card-body">
                <p>长期负损是指台区线损率长期低于0且幅度较大的现象，通常指连续90天以上线损率低于-3%。长期负损表明台区计量存在系统性错误，可能导致电量计量不准确、线损分析失真以及管理决策偏差。</p>
                <p>本指标体系通过设计一系列与长期负损密切相关的诊断指标，为快速定位和解决长期负损问题提供数据支持。</p>
            </div>
        </div>

        <div class="card">
            <div class="card-header">长期负损可能原因及指标体系</div>
            <div class="card-body">
                <div class="indicator-group">
                    <h3>基础判定指标</h3>
                    <div class="indicator">
                        <div class="indicator-name">台区负损持续天数 (TQ_NEGATIVE_LOSS_DAYS)</div>
                        <div class="indicator-desc">台区线损率连续低于负阈值的天数，超过90天即判定为长期负损</div>
                        <div class="indicator-formula">COUNT(DISTINCT STATIS_DATE) WHERE LOSS_RATIO < NEGATIVE_LOSS_THRESHOLD</div>
                        <div class="visualization">
                            <div class="viz-title">某台区连续负损天数统计示例</div>
                            <div class="chart">
                                <svg width="100%" height="100%" viewBox="0 0 800 200">
                                    <!-- X轴 -->
                                    <line x1="50" y1="100" x2="750" y2="100" stroke="#ccc" stroke-width="1"></line>
                                    <!-- Y轴 -->
                                    <line x1="50" y1="20" x2="50" y2="180" stroke="#ccc" stroke-width="1"></line>
                                    
                                    <!-- X轴刻度 -->
                                    <text x="100" y="120" text-anchor="middle" class="axis-label">15日</text>
                                    <text x="200" y="120" text-anchor="middle" class="axis-label">30日</text>
                                    <text x="300" y="120" text-anchor="middle" class="axis-label">45日</text>
                                    <text x="400" y="120" text-anchor="middle" class="axis-label">60日</text>
                                    <text x="500" y="120" text-anchor="middle" class="axis-label">75日</text>
                                    <text x="600" y="120" text-anchor="middle" class="axis-label">90日</text>
                                    <text x="700" y="120" text-anchor="middle" class="axis-label">105日</text>
                                    
                                    <!-- Y轴刻度 -->
                                    <text x="40" y="175" text-anchor="end" class="axis-label">-10%</text>
                                    <text x="40" y="145" text-anchor="end" class="axis-label">-5%</text>
                                    <text x="40" y="100" text-anchor="end" class="axis-label">0%</text>
                                    <text x="40" y="55" text-anchor="end" class="axis-label">5%</text>
                                    <text x="40" y="25" text-anchor="end" class="axis-label">10%</text>
                                    
                                    <!-- 阈值线 -->
                                    <line x1="50" y1="145" x2="750" y2="145" stroke="#1890ff" stroke-width="1.5" stroke-dasharray="5,5"></line>
                                    <text x="750" y="140" text-anchor="end" fill="#1890ff" font-size="12">负损率阈值(-3%)</text>
                                    
                                    <!-- 持续时间标记 -->
                                    <line x1="600" y1="20" x2="600" y2="180" stroke="#722ed1" stroke-width="1.5" stroke-dasharray="5,5"></line>
                                    <text x="610" y="35" fill="#722ed1" font-size="12">长期负损判定(90天)</text>
                                    
                                    <!-- 线损率曲线 -->
                                    <path d="M50,80 Q100,70 150,90 T250,80 T350,140 T450,150 T550,155 T650,160 T750,165" fill="none" stroke="#1890ff" stroke-width="2"></path>
                                    
                                    <!-- 负损区域标记 -->
                                    <path d="M320,100 L320,140 L450,150 L550,155 L650,160 L750,165 L750,100 Z" fill="rgba(24, 144, 255, 0.1)"></path>
                                    
                                    <!-- 当前持续负损天数标记 -->
                                    <circle cx="650" cy="160" r="5" fill="#1890ff"></circle>
                                    <text x="660" y="170" fill="#1890ff" font-size="14" font-weight="bold">当前已持续98天</text>
                                </svg>
                            </div>
                            <div class="chart-legend">
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #1890ff;"></div>
                                    <span>线损率曲线</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: rgba(24, 144, 255, 0.3);"></div>
                                    <span>负损区域(<-3%)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="indicator-group">
                    <h3>原因一：CT倍率互感器异常</h3>
                    <div class="indicator total">
                        <div class="indicator-name">CT倍率异常负损指标(总表) (GM_CT_NEGATIVE_ABNORMAL)</div>
                        <div class="indicator-desc">总表CT倍率异常导致负损评分，评估CT倍率变更前后供电量/用电量比值变化</div>
                        <div class="indicator-formula">AVG(NEW_RATE/OLD_RATE) WHERE CT_PT_TYPE = 'CT' AND IsGM = 1</div>
                        <div class="visualization">
                            <div class="viz-title">总表CT倍率变更前后供用电比值变化示例</div>
                            <div class="chart">
                                <svg width="100%" height="100%" viewBox="0 0 800 200" class="bar-chart">
                                    <!-- X轴 -->
                                    <line x1="50" y1="150" x2="750" y2="150" stroke="#ccc" stroke-width="1"></line>
                                    <!-- Y轴 -->
                                    <line x1="50" y1="20" x2="50" y2="150" stroke="#ccc" stroke-width="1"></line>
                                    
                                    <!-- X轴刻度 -->
                                    <text x="150" y="170" text-anchor="middle" class="axis-label">变更前3月</text>
                                    <text x="250" y="170" text-anchor="middle" class="axis-label">变更前2月</text>
                                    <text x="350" y="170" text-anchor="middle" class="axis-label">变更前1月</text>
                                    <line x1="400" y1="20" x2="400" y2="170" stroke="#722ed1" stroke-width="2" stroke-dasharray="5,5"></line>
                                    <text x="400" y="185" text-anchor="middle" class="axis-label" fill="#722ed1" font-weight="bold">CT倍率变更</text>
                                    <text x="450" y="170" text-anchor="middle" class="axis-label">变更后1月</text>
                                    <text x="550" y="170" text-anchor="middle" class="axis-label">变更后2月</text>
                                    <text x="650" y="170" text-anchor="middle" class="axis-label">变更后3月</text>
                                    
                                    <!-- Y轴刻度 -->
                                    <text x="40" y="150" text-anchor="end" class="axis-label">0%</text>
                                    <text x="40" y="120" text-anchor="end" class="axis-label">5%</text>
                                    <text x="40" y="90" text-anchor="end" class="axis-label">10%</text>
                                    <text x="40" y="60" text-anchor="end" class="axis-label">15%</text>
                                    <text x="40" y="30" text-anchor="end" class="axis-label">20%</text>
                                    
                                    <!-- 变更前供用电比值柱形图 -->
                                    <rect class="bar" x="120" y="85" width="60" height="65" fill="#722ed1"></rect>
                                    <rect class="bar" x="220" y="90" width="60" height="60" fill="#722ed1"></rect>
                                    <rect class="bar" x="320" y="80" width="60" height="70" fill="#722ed1"></rect>
                                    
                                    <!-- 变更后供用电比值柱形图（异常） -->
                                    <rect class="bar" x="420" y="110" width="60" height="40" fill="#1890ff"></rect>
                                    <rect class="bar" x="520" y="115" width="60" height="35" fill="#1890ff"></rect>
                                    <rect class="bar" x="620" y="120" width="60" height="30" fill="#1890ff"></rect>
                                    
                                    <!-- 柱形图标签 -->
                                    <text x="150" y="80" text-anchor="middle" class="bar-label">9.2%</text>
                                    <text x="250" y="85" text-anchor="middle" class="bar-label">8.7%</text>
                                    <text x="350" y="75" text-anchor="middle" class="bar-label">9.5%</text>
                                    <text x="450" y="105" text-anchor="middle" class="bar-label" fill="#1890ff" font-weight="bold">5.3%</text>
                                    <text x="550" y="110" text-anchor="middle" class="bar-label" fill="#1890ff" font-weight="bold">4.8%</text>
                                    <text x="650" y="115" text-anchor="middle" class="bar-label" fill="#1890ff" font-weight="bold">4.1%</text>
                                    
                                    <!-- 变化率标注 -->
                                    <text x="550" y="30" text-anchor="middle" fill="#1890ff" font-weight="bold" font-size="14">变更后供用电比值下降约48%</text>
                                </svg>
                            </div>
                            <div class="chart-legend">
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #722ed1;"></div>
                                    <span>变更前供用电比值</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #1890ff;"></div>
                                    <span>变更后供用电比值(异常)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="indicator sub">
                        <div class="indicator-name">CT倍率异常负损指标(分表) (SM_CT_NEGATIVE_ABNORMAL)</div>
                        <div class="indicator-desc">分表CT倍率异常导致负损评分，评估CT倍率变更前后用电量变化</div>
                        <div class="indicator-formula">AVG(NEW_RATE/OLD_RATE) WHERE CT_PT_TYPE = 'CT' AND IsGM = 0</div>
                        <div class="visualization">
                            <div class="viz-title">分表CT倍率变更前后用电量变化示例</div>
                            <div class="chart">
                                <svg width="100%" height="100%" viewBox="0 0 800 200" class="line-chart">
                                    <!-- X轴 -->
                                    <line x1="50" y1="150" x2="750" y2="150" stroke="#ccc" stroke-width="1"></line>
                                    <!-- Y轴 -->
                                    <line x1="50" y1="20" x2="50" y2="150" stroke="#ccc" stroke-width="1"></line>
                                    
                                    <!-- X轴刻度 -->
                                    <text x="100" y="170" text-anchor="middle" class="axis-label">1月</text>
                                    <text x="200" y="170" text-anchor="middle" class="axis-label">2月</text>
                                    <text x="300" y="170" text-anchor="middle" class="axis-label">3月</text>
                                    <line x1="400" y1="20" x2="400" y2="170" stroke="#13c2c2" stroke-width="2" stroke-dasharray="5,5"></line>
                                    <text x="400" y="185" text-anchor="middle" class="axis-label" fill="#13c2c2" font-weight="bold">CT倍率变更</text>
                                    <text x="500" y="170" text-anchor="middle" class="axis-label">4月</text>
                                    <text x="600" y="170" text-anchor="middle" class="axis-label">5月</text>
                                    <text x="700" y="170" text-anchor="middle" class="axis-label">6月</text>
                                    
                                    <!-- Y轴刻度 -->
                                    <text x="40" y="150" text-anchor="end" class="axis-label">0</text>
                                    <text x="40" y="120" text-anchor="end" class="axis-label">100</text>
                                    <text x="40" y="90" text-anchor="end" class="axis-label">200</text>
                                    <text x="40" y="60" text-anchor="end" class="axis-label">300</text>
                                    <text x="40" y="30" text-anchor="end" class="axis-label">400</text>
                                    
                                    <!-- 正常趋势线 -->
                                    <path d="M50,120 L100,115 L200,125 L300,110 L400,115" class="line" stroke="#13c2c2"></path>
                                    <circle cx="100" cy="115" r="4" class="point" fill="#13c2c2"></circle>
                                    <circle cx="200" cy="125" r="4" class="point" fill="#13c2c2"></circle>
                                    <circle cx="300" cy="110" r="4" class="point" fill="#13c2c2"></circle>
                                    <circle cx="400" cy="115" r="4" class="point" fill="#13c2c2"></circle>
                                    
                                    <!-- 异常趋势线 -->
                                    <path d="M400,115 L500,60 L600,65 L700,55" class="line" stroke="#1890ff"></path>
                                    <circle cx="500" cy="60" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="600" cy="65" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="700" cy="55" r="4" class="point" fill="#1890ff"></circle>
                                    
                                    <!-- 异常标注 -->
                                    <text x="600" y="40" text-anchor="middle" fill="#1890ff" font-weight="bold" font-size="14">CT倍率变更后用电量异常增加约100%</text>
                                </svg>
                            </div>
                            <div class="chart-legend">
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #13c2c2;"></div>
                                    <span>变更前用电量趋势</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #1890ff;"></div>
                                    <span>变更后用电量趋势(异常)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="indicator-group">
                    <h3>原因二：台区户表关系错误</h3>
                    <div class="indicator total">
                        <div class="indicator-name">台区户表关系负损指标(总表) (GM_RELATION_NEGATIVE_ERROR)</div>
                        <div class="indicator-desc">总表关联户表错误导致负损程度，通过相关性分析评估</div>
                        <div class="indicator-formula">CORR(CONSUMED, SUPPLIED) WHERE REGION_ID AND IsGM = 1 AND LOSS_RATIO < 0</div>
                        <div class="visualization">
                            <div class="viz-title">台区总用电量与供电量相关性示例</div>
                            <div class="chart">
                                <svg width="100%" height="100%" viewBox="0 0 800 200" class="scatter-chart">
                                    <!-- X轴 - 供电量 -->
                                    <line x1="50" y1="150" x2="750" y2="150" stroke="#ccc" stroke-width="1"></line>
                                    <!-- Y轴 - 用电量 -->
                                    <line x1="50" y1="20" x2="50" y2="150" stroke="#ccc" stroke-width="1"></line>
                                    
                                    <!-- X轴刻度 -->
                                    <text x="400" y="170" text-anchor="middle" font-weight="bold">总表供电量</text>
                                    
                                    <!-- Y轴刻度 -->
                                    <text x="30" y="85" text-anchor="middle" transform="rotate(-90, 30, 85)" font-weight="bold">分表总用电量</text>
                                    <text x="40" y="150" text-anchor="end" class="axis-label">0</text>
                                    <text x="40" y="120" text-anchor="end" class="axis-label">500</text>
                                    <text x="40" y="90" text-anchor="end" class="axis-label">1000</text>
                                    <text x="40" y="60" text-anchor="end" class="axis-label">1500</text>
                                    <text x="40" y="30" text-anchor="end" class="axis-label">2000</text>
                                    
                                    <!-- X轴刻度 -->
                                    <text x="100" y="165" text-anchor="middle" class="axis-label">300</text>
                                    <text x="200" y="165" text-anchor="middle" class="axis-label">600</text>
                                    <text x="300" y="165" text-anchor="middle" class="axis-label">900</text>
                                    <text x="400" y="165" text-anchor="middle" class="axis-label">1200</text>
                                    <text x="500" y="165" text-anchor="middle" class="axis-label">1500</text>
                                    <text x="600" y="165" text-anchor="middle" class="axis-label">1800</text>
                                    <text x="700" y="165" text-anchor="middle" class="axis-label">2100</text>
                                    
                                    <!-- 斜线 y=x -->
                                    <line x1="50" y1="150" x2="750" y2="30" stroke="#ccc" stroke-width="1" stroke-dasharray="5,5"></line>
                                    <text x="700" y="50" text-anchor="end" fill="#ccc" font-size="12">供电量=用电量</text>
                                    
                                    <!-- 正常台区数据点 -->
                                    <circle cx="100" cy="110" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="150" cy="102" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="200" cy="95" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="250" cy="87" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="300" cy="80" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="350" cy="73" r="4" class="point" fill="#722ed1"></circle>
                                    
                                    <!-- 正常趋势线 -->
                                    <line x1="80" y1="115" x2="370" y2="70" class="correlation-line" stroke="#722ed1"></line>
                                    <text x="180" y="50" text-anchor="middle" fill="#722ed1" font-weight="bold" font-size="14">正常台区相关性: 0.98</text>
                                    
                                    <!-- 异常台区数据点（负损） -->
                                    <circle cx="400" cy="130" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="450" cy="125" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="500" cy="110" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="550" cy="103" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="600" cy="95" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="650" cy="90" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="700" cy="80" r="4" class="point" fill="#1890ff"></circle>
                                    
                                    <!-- 异常趋势线 -->
                                    <line x1="400" y1="130" x2="700" y2="80" class="correlation-line" stroke="#1890ff"></line>
                                    <text x="550" y="40" text-anchor="middle" fill="#1890ff" font-weight="bold" font-size="14">负损台区相关性: 0.92，但用电量大于供电量</text>
                                </svg>
                            </div>
                            <div class="chart-legend">
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #722ed1;"></div>
                                    <span>正常台区</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #1890ff;"></div>
                                    <span>户表关系错误导致负损台区</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="indicator sub">
                        <div class="indicator-name">台区户表关系负损指标(分表) (SM_RELATION_NEGATIVE_ERROR)</div>
                        <div class="indicator-desc">分表关联台区错误导致负损程度，通过用电量比值评估</div>
                        <div class="indicator-formula">SUM(Usage) / RELATED_REGION_SUPPLIED WHERE AreaId AND IsGM = 0</div>
                        <div class="visualization">
                            <div class="viz-title">台区分表用电量总和与供电量比值示例</div>
                            <div class="chart">
                                <svg width="100%" height="100%" viewBox="0 0 800 200" class="bar-chart">
                                    <!-- X轴 -->
                                    <line x1="50" y1="150" x2="750" y2="150" stroke="#ccc" stroke-width="1"></line>
                                    <!-- Y轴 -->
                                    <line x1="50" y1="20" x2="50" y2="150" stroke="#ccc" stroke-width="1"></line>
                                    
                                    <!-- X轴标签 -->
                                    <text x="150" y="170" text-anchor="middle" class="axis-label">台区A</text>
                                    <text x="300" y="170" text-anchor="middle" class="axis-label">台区B</text>
                                    <text x="450" y="170" text-anchor="middle" class="axis-label">台区C</text>
                                    <text x="600" y="170" text-anchor="middle" class="axis-label">台区D</text>
                                    
                                    <!-- Y轴标签 - 用电量/供电量比值 -->
                                    <text x="40" y="150" text-anchor="end" class="axis-label">0%</text>
                                    <text x="40" y="130" text-anchor="end" class="axis-label">20%</text>
                                    <text x="40" y="110" text-anchor="end" class="axis-label">40%</text>
                                    <text x="40" y="90" text-anchor="end" class="axis-label">60%</text>
                                    <text x="40" y="70" text-anchor="end" class="axis-label">80%</text>
                                    <text x="40" y="50" text-anchor="end" class="axis-label">100%</text>
                                    <text x="40" y="30" text-anchor="end" class="axis-label">120%</text>
                                    
                                    <!-- 正常值参考线 -->
                                    <line x1="50" y1="50" x2="750" y2="50" stroke="#ccc" stroke-width="1.5" stroke-dasharray="5,5"></line>
                                    <text x="750" y="45" text-anchor="end" fill="#ccc" font-size="12">理想比值(≤100%)</text>
                                    
                                    <!-- 台区柱形图 -->
                                    <rect x="100" y="70" width="100" height="80" fill="#722ed1"></rect>
                                    <rect x="250" y="90" width="100" height="60" fill="#722ed1"></rect>
                                    <rect x="400" y="30" width="100" height="120" fill="#1890ff"></rect>
                                    <rect x="550" y="25" width="100" height="125" fill="#1890ff"></rect>
                                    
                                    <!-- 比值标签 -->
                                    <text x="150" y="65" text-anchor="middle" class="bar-label">85%</text>
                                    <text x="300" y="85" text-anchor="middle" class="bar-label">70%</text>
                                    <text x="450" y="25" text-anchor="middle" class="bar-label" fill="#1890ff" font-weight="bold">105%</text>
                                    <text x="600" y="20" text-anchor="middle" class="bar-label" fill="#1890ff" font-weight="bold">110%</text>
                                    
                                    <!-- 异常标注 -->
                                    <text x="520" y="50" text-anchor="middle" fill="#1890ff" font-weight="bold" font-size="14">用电量超过供电量，表明存在户表关系错误</text>
                                </svg>
                            </div>
                            <div class="chart-legend">
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #722ed1;"></div>
                                    <span>正常台区(比值<100%)</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #1890ff;"></div>
                                    <span>异常台区(比值>100%)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="indicator-group">
                    <h3>原因三：计量装置接线错误</h3>
                    <div class="indicator total">
                        <div class="indicator-name">计量装置接线负损指标(总表) (GM_WIRING_NEGATIVE_ERROR)</div>
                        <div class="indicator-desc">总表计量装置接线错误导致负损程度，通过功率因数评估</div>
                        <div class="indicator-formula">ABS(Power_Factor - EXPECTED_POWER_FACTOR) WHERE IsGM = 1 AND LOSS_RATIO < 0</div>
                        <div class="visualization">
                            <div class="viz-title">总表功率因数与线损率关系示例</div>
                            <div class="chart">
                                <svg width="100%" height="100%" viewBox="0 0 800 200" class="scatter-chart">
                                    <!-- X轴 - 功率因数偏差 -->
                                    <line x1="50" y1="100" x2="750" y2="100" stroke="#ccc" stroke-width="1"></line>
                                    <!-- Y轴 - 线损率 -->
                                    <line x1="50" y1="20" x2="50" y2="180" stroke="#ccc" stroke-width="1"></line>
                                    
                                    <!-- X轴刻度 -->
                                    <text x="100" y="115" text-anchor="middle" class="axis-label">0.05</text>
                                    <text x="200" y="115" text-anchor="middle" class="axis-label">0.10</text>
                                    <text x="300" y="115" text-anchor="middle" class="axis-label">0.15</text>
                                    <text x="400" y="115" text-anchor="middle" class="axis-label">0.20</text>
                                    <text x="500" y="115" text-anchor="middle" class="axis-label">0.25</text>
                                    <text x="600" y="115" text-anchor="middle" class="axis-label">0.30</text>
                                    <text x="700" y="115" text-anchor="middle" class="axis-label">0.35</text>
                                    <text x="400" y="135" text-anchor="middle" font-weight="bold">功率因数偏差</text>
                                    
                                    <!-- Y轴刻度 -->
                                    <text x="40" y="180" text-anchor="end" class="axis-label">-10%</text>
                                    <text x="40" y="140" text-anchor="end" class="axis-label">-5%</text>
                                    <text x="40" y="100" text-anchor="end" class="axis-label">0%</text>
                                    <text x="40" y="60" text-anchor="end" class="axis-label">5%</text>
                                    <text x="40" y="20" text-anchor="end" class="axis-label">10%</text>
                                    <text x="20" y="100" text-anchor="middle" transform="rotate(-90, 20, 100)" font-weight="bold">线损率</text>
                                    
                                    <!-- 零线 -->
                                    <line x1="50" y1="100" x2="750" y2="100" stroke="#ccc" stroke-width="1" stroke-dasharray="5,5"></line>
                                    
                                    <!-- 正常台区数据点 -->
                                    <circle cx="80" cy="60" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="90" cy="70" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="100" cy="55" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="110" cy="65" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="120" cy="75" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="130" cy="68" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="140" cy="72" r="4" class="point" fill="#722ed1"></circle>
                                    
                                    <!-- 接线错误台区数据点（负损） -->
                                    <circle cx="250" cy="130" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="280" cy="135" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="320" cy="140" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="380" cy="145" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="450" cy="150" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="520" cy="155" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="600" cy="160" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="680" cy="170" r="4" class="point" fill="#1890ff"></circle>
                                    
                                    <!-- 趋势线 -->
                                    <path d="M250,130 Q450,150 680,170" fill="none" stroke="#1890ff" stroke-width="2" stroke-dasharray="5,5"></path>
                                    
                                    <!-- 说明文字 -->
                                    <text x="400" y="40" text-anchor="middle" fill="#1890ff" font-weight="bold" font-size="14">功率因数偏差越大，线损率越低(负损越严重)</text>
                                </svg>
                            </div>
                            <div class="chart-legend">
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #722ed1;"></div>
                                    <span>正常台区</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #1890ff;"></div>
                                    <span>接线错误导致负损台区</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="indicator sub">
                        <div class="indicator-name">计量装置接线负损指标(分表) (SM_WIRING_NEGATIVE_ERROR)</div>
                        <div class="indicator-desc">分表计量装置接线错误导致负损程度，通过事件分析评估</div>
                        <div class="indicator-formula">COUNT(Event-1025 OR Event-1026 OR Event-1027) + COUNT(Reversed_Energy > 0) WHERE IsGM = 0 AND LOSS_RATIO < 0</div>
                        <div class="visualization">
                            <div class="viz-title">分表接线相关事件统计示例</div>
                            <div class="chart">
                                <svg width="100%" height="100%" viewBox="0 0 800 200" class="bar-chart">
                                    <!-- X轴 -->
                                    <line x1="50" y1="150" x2="750" y2="150" stroke="#ccc" stroke-width="1"></line>
                                    <!-- Y轴 -->
                                    <line x1="50" y1="20" x2="50" y2="150" stroke="#ccc" stroke-width="1"></line>
                                    
                                    <!-- X轴标签 -->
                                    <text x="180" y="170" text-anchor="middle" class="axis-label">相序异常</text>
                                    <text x="360" y="170" text-anchor="middle" class="axis-label">接线错误</text>
                                    <text x="540" y="170" text-anchor="middle" class="axis-label">反向电量</text>
                                    <text x="720" y="170" text-anchor="middle" class="axis-label">功率因数异常</text>
                                    
                                    <!-- Y轴标签 - 事件次数 -->
                                    <text x="40" y="150" text-anchor="end" class="axis-label">0</text>
                                    <text x="40" y="130" text-anchor="end" class="axis-label">5</text>
                                    <text x="40" y="110" text-anchor="end" class="axis-label">10</text>
                                    <text x="40" y="90" text-anchor="end" class="axis-label">15</text>
                                    <text x="40" y="70" text-anchor="end" class="axis-label">20</text>
                                    <text x="40" y="50" text-anchor="end" class="axis-label">25</text>
                                    <text x="40" y="30" text-anchor="end" class="axis-label">30</text>
                                    
                                    <!-- 阈值线 -->
                                    <line x1="50" y1="110" x2="750" y2="110" stroke="#ccc" stroke-width="1.5" stroke-dasharray="5,5"></line>
                                    <text x="750" y="105" text-anchor="end" fill="#ccc" font-size="12">事件阈值(>10次)</text>
                                    
                                    <!-- 正常台区柱形图 -->
                                    <rect x="100" y="140" width="60" height="10" fill="#722ed1"></rect>
                                    <rect x="280" y="145" width="60" height="5" fill="#722ed1"></rect>
                                    <rect x="460" y="142" width="60" height="8" fill="#722ed1"></rect>
                                    <rect x="640" y="140" width="60" height="10" fill="#722ed1"></rect>
                                    
                                    <!-- 接线错误台区柱形图 -->
                                    <rect x="170" y="90" width="60" height="60" fill="#1890ff"></rect>
                                    <rect x="350" y="50" width="60" height="100" fill="#1890ff"></rect>
                                    <rect x="530" y="70" width="60" height="80" fill="#1890ff"></rect>
                                    <rect x="710" y="100" width="60" height="50" fill="#1890ff"></rect>
                                    
                                    <!-- 事件次数标签 -->
                                    <text x="130" y="135" text-anchor="middle" class="bar-label" font-size="10">2</text>
                                    <text x="310" y="140" text-anchor="middle" class="bar-label" font-size="10">1</text>
                                    <text x="490" y="137" text-anchor="middle" class="bar-label" font-size="10">1.5</text>
                                    <text x="670" y="135" text-anchor="middle" class="bar-label" font-size="10">2</text>
                                    
                                    <text x="200" y="85" text-anchor="middle" class="bar-label" fill="#1890ff" font-size="10" font-weight="bold">12</text>
                                    <text x="380" y="45" text-anchor="middle" class="bar-label" fill="#1890ff" font-size="10" font-weight="bold">20</text>
                                    <text x="560" y="65" text-anchor="middle" class="bar-label" fill="#1890ff" font-size="10" font-weight="bold">16</text>
                                    <text x="740" y="95" text-anchor="middle" class="bar-label" fill="#1890ff" font-size="10" font-weight="bold">10</text>
                                    
                                    <!-- 说明文字 -->
                                    <text x="400" y="40" text-anchor="middle" fill="#1890ff" font-weight="bold" font-size="14">接线错误相关事件频繁发生</text>
                                </svg>
                            </div>
                            <div class="chart-legend">
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #722ed1;"></div>
                                    <span>正常台区</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #1890ff;"></div>
                                    <span>接线错误导致负损台区</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="indicator-group">
                    <h3>原因四：电表正反相设置错误</h3>
                    <div class="indicator total">
                        <div class="indicator-name">电表正反相设置负损指标(总表) (GM_PHASE_NEGATIVE_ERROR)</div>
                        <div class="indicator-desc">总表相位设置错误导致负损程度，通过反向电量记录评估</div>
                        <div class="indicator-formula">COUNT(Reversed_Energy > 0) / COUNT(*) WHERE IsGM = 1 AND LOSS_RATIO < 0</div>
                        <div class="visualization">
                            <div class="viz-title">总表反向电量记录占比示例</div>
                            <div class="chart">
                                <svg width="100%" height="100%" viewBox="0 0 800 200" class="bar-chart">
                                    <!-- X轴 -->
                                    <line x1="50" y1="150" x2="750" y2="150" stroke="#ccc" stroke-width="1"></line>
                                    <!-- Y轴 -->
                                    <line x1="50" y1="20" x2="50" y2="150" stroke="#ccc" stroke-width="1"></line>
                                    
                                    <!-- X轴标签 -->
                                    <text x="180" y="170" text-anchor="middle" class="axis-label">正常台区1</text>
                                    <text x="400" y="170" text-anchor="middle" class="axis-label">正常台区2</text>
                                    <text x="620" y="170" text-anchor="middle" class="axis-label">相位错误台区</text>
                                    
                                    <!-- Y轴标签 - 反向电量记录占比 -->
                                    <text x="40" y="150" text-anchor="end" class="axis-label">0%</text>
                                    <text x="40" y="130" text-anchor="end" class="axis-label">10%</text>
                                    <text x="40" y="110" text-anchor="end" class="axis-label">20%</text>
                                    <text x="40" y="90" text-anchor="end" class="axis-label">30%</text>
                                    <text x="40" y="70" text-anchor="end" class="axis-label">40%</text>
                                    <text x="40" y="50" text-anchor="end" class="axis-label">50%</text>
                                    <text x="40" y="30" text-anchor="end" class="axis-label">60%</text>
                                    
                                    <!-- 阈值线 -->
                                    <line x1="50" y1="90" x2="750" y2="90" stroke="#ccc" stroke-width="1.5" stroke-dasharray="5,5"></line>
                                    <text x="750" y="85" text-anchor="end" fill="#ccc" font-size="12">反向电量占比阈值(30%)</text>
                                    
                                    <!-- 饼图表示 -->
                                    <circle cx="180" cy="100" r="70" fill="#f0f0f0" stroke="#ccc"></circle>
                                    <path d="M180,100 L180,30 A70,70 0 0,1 190,31 z" fill="#722ed1"></path>
                                    <text x="180" y="100" text-anchor="middle" font-weight="bold">5%</text>
                                    
                                    <circle cx="400" cy="100" r="70" fill="#f0f0f0" stroke="#ccc"></circle>
                                    <path d="M400,100 L400,30 A70,70 0 0,1 435,45 z" fill="#722ed1"></path>
                                    <text x="400" y="100" text-anchor="middle" font-weight="bold">10%</text>
                                    
                                    <circle cx="620" cy="100" r="70" fill="#f0f0f0" stroke="#ccc"></circle>
                                    <path d="M620,100 L620,30 A70,70 0 1,1 575,150 z" fill="#1890ff"></path>
                                    <text x="620" y="100" text-anchor="middle" font-weight="bold">70%</text>
                                    
                                    <!-- 说明文字 -->
                                    <text x="620" y="30" text-anchor="middle" fill="#1890ff" font-weight="bold" font-size="14">相位设置错误导致大量反向电量记录</text>
                                </svg>
                            </div>
                            <div class="chart-legend">
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #722ed1;"></div>
                                    <span>正常台区反向电量占比(低)</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #1890ff;"></div>
                                    <span>相位错误台区反向电量占比(高)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="indicator sub">
                        <div class="indicator-name">电表正反相设置负损指标(分表) (SM_PHASE_NEGATIVE_ERROR)</div>
                        <div class="indicator-desc">分表相位设置错误导致负损程度，通过反向电量占比评估</div>
                        <div class="indicator-formula">SUM(Reversed_Energy) / SUM(Total_Energy) WHERE IsGM = 0 AND Has_Distributed_Generation = 0</div>
                        <div class="visualization">
                            <div class="viz-title">各用户反向电量占比分布示例</div>
                            <div class="chart">
                                <svg width="100%" height="100%" viewBox="0 0 800 200" class="scatter-chart">
                                    <!-- X轴 - 用户ID -->
                                    <line x1="50" y1="150" x2="750" y2="150" stroke="#ccc" stroke-width="1"></line>
                                    <!-- Y轴 - 反向电量占比 -->
                                    <line x1="50" y1="20" x2="50" y2="150" stroke="#ccc" stroke-width="1"></line>
                                    
                                    <!-- X轴刻度 -->
                                    <text x="400" y="170" text-anchor="middle" font-weight="bold">用户编号</text>
                                    
                                    <!-- Y轴刻度 -->
                                    <text x="40" y="150" text-anchor="end" class="axis-label">0%</text>
                                    <text x="40" y="130" text-anchor="end" class="axis-label">10%</text>
                                    <text x="40" y="110" text-anchor="end" class="axis-label">20%</text>
                                    <text x="40" y="90" text-anchor="end" class="axis-label">30%</text>
                                    <text x="40" y="70" text-anchor="end" class="axis-label">40%</text>
                                    <text x="40" y="50" text-anchor="end" class="axis-label">50%</text>
                                    <text x="40" y="30" text-anchor="end" class="axis-label">60%</text>
                                    <text x="20" y="85" text-anchor="middle" transform="rotate(-90, 20, 85)" font-weight="bold">反向电量占比</text>
                                    
                                    <!-- 阈值线 -->
                                    <line x1="50" y1="90" x2="750" y2="90" stroke="#fa8c16" stroke-width="1.5" stroke-dasharray="5,5"></line>
                                    <text x="750" y="85" text-anchor="end" fill="#fa8c16" font-size="12">反向电量占比阈值(30%)</text>
                                    
                                    <!-- 正常用户数据点 -->
                                    <circle cx="80" cy="145" r="3" class="point" fill="#722ed1"></circle>
                                    <circle cx="100" cy="148" r="3" class="point" fill="#722ed1"></circle>
                                    <circle cx="120" cy="142" r="3" class="point" fill="#722ed1"></circle>
                                    <circle cx="140" cy="144" r="3" class="point" fill="#722ed1"></circle>
                                    <circle cx="160" cy="146" r="3" class="point" fill="#722ed1"></circle>
                                    <circle cx="180" cy="143" r="3" class="point" fill="#722ed1"></circle>
                                    <circle cx="200" cy="147" r="3" class="point" fill="#722ed1"></circle>
                                    
                                    <circle cx="230" cy="140" r="3" class="point" fill="#722ed1"></circle>
                                    <circle cx="250" cy="138" r="3" class="point" fill="#722ed1"></circle>
                                    <circle cx="270" cy="135" r="3" class="point" fill="#722ed1"></circle>
                                    <circle cx="290" cy="138" r="3" class="point" fill="#722ed1"></circle>
                                    <circle cx="310" cy="142" r="3" class="point" fill="#722ed1"></circle>
                                    <circle cx="330" cy="135" r="3" class="point" fill="#722ed1"></circle>
                                    <circle cx="350" cy="139" r="3" class="point" fill="#722ed1"></circle>
                                    
                                    <!-- 相位错误用户数据点 -->
                                    <circle cx="400" cy="40" r="5" class="point" fill="#1890ff"></circle>
                                    <circle cx="430" cy="35" r="5" class="point" fill="#1890ff"></circle>
                                    <circle cx="460" cy="45" r="5" class="point" fill="#1890ff"></circle>
                                    <circle cx="490" cy="30" r="5" class="point" fill="#1890ff"></circle>
                                    <circle cx="520" cy="40" r="5" class="point" fill="#1890ff"></circle>
                                    <circle cx="550" cy="25" r="5" class="point" fill="#1890ff"></circle>
                                    
                                    <!-- 聚类椭圆 -->
                                    <ellipse cx="280" cy="140" rx="200" ry="15" fill="none" stroke="#722ed1" stroke-width="1" stroke-dasharray="5,5"></ellipse>
                                    <ellipse cx="475" cy="35" rx="100" ry="20" fill="none" stroke="#1890ff" stroke-width="1" stroke-dasharray="5,5"></ellipse>
                                    
                                    <!-- 说明文字 -->
                                    <text x="475" y="65" text-anchor="middle" fill="#1890ff" font-weight="bold" font-size="14">相位设置错误导致反向电量占比高达50-60%</text>
                                </svg>
                            </div>
                            <div class="chart-legend">
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #722ed1;"></div>
                                    <span>正常用户(反向电量占比<5%)</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #1890ff;"></div>
                                    <span>相位设置错误用户(反向电量占比>50%)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="indicator-group">
                    <h3>原因五：分布式能源反向计量异常</h3>
                    <div class="indicator total">
                        <div class="indicator-name">分布式能源反向计量负损指标(总表) (GM_DER_NEGATIVE_METERING)</div>
                        <div class="indicator-desc">总表分布式能源反向计量异常程度，通过反向电量与线损率相关性评估</div>
                        <div class="indicator-formula">CORR(Reversed_Energy, LOSS_RATIO) WHERE IsGM = 1 AND Has_Distributed_Generation = 1</div>
                        <div class="visualization">
                            <div class="viz-title">总表反向电量与线损率相关性示例</div>
                            <div class="chart">
                                <svg width="100%" height="100%" viewBox="0 0 800 200" class="scatter-chart">
                                    <!-- X轴 - 反向电量 -->
                                    <line x1="50" y1="100" x2="750" y2="100" stroke="#ccc" stroke-width="1"></line>
                                    <!-- Y轴 - 线损率 -->
                                    <line x1="50" y1="20" x2="50" y2="180" stroke="#ccc" stroke-width="1"></line>
                                    
                                    <!-- X轴刻度 -->
                                    <text x="140" y="115" text-anchor="middle" class="axis-label">100</text>
                                    <text x="230" y="115" text-anchor="middle" class="axis-label">200</text>
                                    <text x="320" y="115" text-anchor="middle" class="axis-label">300</text>
                                    <text x="410" y="115" text-anchor="middle" class="axis-label">400</text>
                                    <text x="500" y="115" text-anchor="middle" class="axis-label">500</text>
                                    <text x="590" y="115" text-anchor="middle" class="axis-label">600</text>
                                    <text x="680" y="115" text-anchor="middle" class="axis-label">700</text>
                                    <text x="400" y="135" text-anchor="middle" font-weight="bold">反向电量(kWh)</text>
                                    
                                    <!-- Y轴刻度 -->
                                    <text x="40" y="180" text-anchor="end" class="axis-label">-10%</text>
                                    <text x="40" y="140" text-anchor="end" class="axis-label">-5%</text>
                                    <text x="40" y="100" text-anchor="end" class="axis-label">0%</text>
                                    <text x="40" y="60" text-anchor="end" class="axis-label">5%</text>
                                    <text x="40" y="20" text-anchor="end" class="axis-label">10%</text>
                                    <text x="20" y="100" text-anchor="middle" transform="rotate(-90, 20, 100)" font-weight="bold">线损率</text>
                                    
                                    <!-- 零线 -->
                                    <line x1="50" y1="100" x2="750" y2="100" stroke="#ccc" stroke-width="1" stroke-dasharray="5,5"></line>
                                    
                                    <!-- 正常台区数据点 -->
                                    <circle cx="100" cy="70" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="160" cy="80" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="220" cy="90" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="280" cy="100" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="340" cy="110" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="400" cy="120" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="460" cy="130" r="4" class="point" fill="#722ed1"></circle>
                                    
                                    <!-- 分布式能源计量异常台区数据点 -->
                                    <circle cx="120" cy="130" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="240" cy="140" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="360" cy="150" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="480" cy="160" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="600" cy="170" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="720" cy="180" r="4" class="point" fill="#1890ff"></circle>
                                    
                                    <!-- 趋势线 -->
                                    <path d="M100,70 L460,130" fill="none" stroke="#722ed1" stroke-width="2" stroke-dasharray="5,5"></path>
                                    <path d="M120,130 L720,180" fill="none" stroke="#1890ff" stroke-width="2" stroke-dasharray="5,5"></path>
                                    
                                    <!-- 说明文字 -->
                                    <text x="280" y="60" text-anchor="middle" fill="#722ed1" font-weight="bold" font-size="14">正常相关性: 0.62</text>
                                    <text x="400" y="40" text-anchor="middle" fill="#1890ff" font-weight="bold" font-size="14">反向计量异常相关性: -0.85</text>
                                </svg>
                            </div>
                            <div class="chart-legend">
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #722ed1;"></div>
                                    <span>正常台区(反向电量增加，线损率上升)</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #1890ff;"></div>
                                    <span>反向计量异常台区(反向电量增加，线损率下降)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="indicator sub">
                        <div class="indicator-name">分布式能源反向计量负损指标(分表) (SM_DER_NEGATIVE_METERING)</div>
                        <div class="indicator-desc">分表分布式能源反向计量异常程度，通过计量配置错误统计评估</div>
                        <div class="indicator-formula">COUNT(Reversed_Energy > 0 AND Energy_Direction_Setting != 'BIDIRECTIONAL') WHERE IsGM = 0 AND Has_Distributed_Generation = 1</div>
                        <div class="visualization">
                            <div class="viz-title">分布式能源用户计量方向配置错误统计示例</div>
                            <div class="chart">
                                <svg width="100%" height="100%" viewBox="0 0 800 200" class="bar-chart">
                                    <!-- X轴 -->
                                    <line x1="50" y1="150" x2="750" y2="150" stroke="#ccc" stroke-width="1"></line>
                                    <!-- Y轴 -->
                                    <line x1="50" y1="20" x2="50" y2="150" stroke="#ccc" stroke-width="1"></line>
                                    
                                    <!-- X轴标签 -->
                                    <text x="200" y="170" text-anchor="middle" class="axis-label">正向计量</text>
                                    <text x="400" y="170" text-anchor="middle" class="axis-label">双向计量</text>
                                    <text x="600" y="170" text-anchor="middle" class="axis-label">计量配置错误</text>
                                    
                                    <!-- Y轴标签 - 用户数量 -->
                                    <text x="40" y="150" text-anchor="end" class="axis-label">0</text>
                                    <text x="40" y="130" text-anchor="end" class="axis-label">5</text>
                                    <text x="40" y="110" text-anchor="end" class="axis-label">10</text>
                                    <text x="40" y="90" text-anchor="end" class="axis-label">15</text>
                                    <text x="40" y="70" text-anchor="end" class="axis-label">20</text>
                                    <text x="40" y="50" text-anchor="end" class="axis-label">25</text>
                                    <text x="40" y="30" text-anchor="end" class="axis-label">30</text>
                                    
                                    <!-- 分组方式说明 -->
                                    <text x="150" y="70" text-anchor="middle" fill="#722ed1" font-weight="bold" font-size="12">无分布式能源</text>
                                    <text x="400" y="50" text-anchor="middle" fill="#722ed1" font-weight="bold" font-size="12">分布式能源用户</text>
                                    <text x="400" y="65" text-anchor="middle" fill="#722ed1" font-weight="bold" font-size="12">正确配置</text>
                                    <text x="600" y="50" text-anchor="middle" fill="#1890ff" font-weight="bold" font-size="12">分布式能源用户</text>
                                    <text x="600" y="65" text-anchor="middle" fill="#1890ff" font-weight="bold" font-size="12">配置错误</text>
                                    
                                    <!-- 用户数量柱形图 -->
                                    <rect x="150" y="90" width="100" height="60" fill="#e6f7ff"></rect>
                                    <rect x="350" y="80" width="100" height="70" fill="#722ed1"></rect>
                                    <rect x="550" y="40" width="100" height="110" fill="#1890ff"></rect>
                                    
                                    <!-- 用户数量标签 -->
                                    <text x="200" y="85" text-anchor="middle" class="bar-label">12</text>
                                    <text x="400" y="75" text-anchor="middle" class="bar-label">14</text>
                                    <text x="600" y="35" text-anchor="middle" class="bar-label" fill="#1890ff" font-weight="bold">22</text>
                                    
                                    <!-- 说明文字 -->
                                    <text x="600" y="30" text-anchor="middle" fill="#1890ff" font-weight="bold" font-size="14">62.8%分布式能源用户配置错误</text>
                                </svg>
                            </div>
                            <div class="chart-legend">
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #e6f7ff;"></div>
                                    <span>常规用户(正向计量)</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #722ed1;"></div>
                                    <span>正确配置的分布式能源用户(双向计量)</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #1890ff;"></div>
                                    <span>错误配置的分布式能源用户(单向计量)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="indicator-group">
                    <h3>原因六：时钟同步偏差</h3>
                    <div class="indicator total">
                        <div class="indicator-name">时钟同步负损指标(总表) (GM_CLOCK_NEGATIVE_DEVIATION)</div>
                        <div class="indicator-desc">总表时钟同步偏差导致负损程度，通过时钟偏差与线损率相关性评估</div>
                        <div class="indicator-formula">CORR(ABS(Time_Diff), LOSS_RATIO) WHERE IsGM = 1 AND LOSS_RATIO < 0</div>
                        <div class="visualization">
                            <div class="viz-title">总表时钟偏差与线损率关系示例</div>
                            <div class="chart">
                                <svg width="100%" height="100%" viewBox="0 0 800 200" class="scatter-chart">
                                    <!-- X轴 - 时钟偏差 -->
                                    <line x1="50" y1="100" x2="750" y2="100" stroke="#ccc" stroke-width="1"></line>
                                    <!-- Y轴 - 线损率 -->
                                    <line x1="50" y1="20" x2="50" y2="180" stroke="#ccc" stroke-width="1"></line>
                                    
                                    <!-- X轴刻度 -->
                                    <text x="100" y="115" text-anchor="middle" class="axis-label">5分钟</text>
                                    <text x="200" y="115" text-anchor="middle" class="axis-label">10分钟</text>
                                    <text x="300" y="115" text-anchor="middle" class="axis-label">15分钟</text>
                                    <text x="400" y="115" text-anchor="middle" class="axis-label">20分钟</text>
                                    <text x="500" y="115" text-anchor="middle" class="axis-label">25分钟</text>
                                    <text x="600" y="115" text-anchor="middle" class="axis-label">30分钟</text>
                                    <text x="700" y="115" text-anchor="middle" class="axis-label">35分钟</text>
                                    <text x="400" y="135" text-anchor="middle" font-weight="bold">时钟偏差(分钟)</text>
                                    
                                    <!-- Y轴刻度 -->
                                    <text x="40" y="180" text-anchor="end" class="axis-label">-10%</text>
                                    <text x="40" y="140" text-anchor="end" class="axis-label">-5%</text>
                                    <text x="40" y="100" text-anchor="end" class="axis-label">0%</text>
                                    <text x="40" y="60" text-anchor="end" class="axis-label">5%</text>
                                    <text x="40" y="20" text-anchor="end" class="axis-label">10%</text>
                                    <text x="20" y="100" text-anchor="middle" transform="rotate(-90, 20, 100)" font-weight="bold">线损率</text>
                                    
                                    <!-- 零线 -->
                                    <line x1="50" y1="100" x2="750" y2="100" stroke="#ccc" stroke-width="1" stroke-dasharray="5,5"></line>
                                    
                                    <!-- 正常台区数据点 -->
                                    <circle cx="70" cy="90" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="90" cy="95" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="110" cy="85" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="130" cy="92" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="150" cy="88" r="4" class="point" fill="#722ed1"></circle>
                                    <circle cx="170" cy="93" r="4" class="point" fill="#722ed1"></circle>
                                    
                                    <!-- 时钟同步异常台区数据点 -->
                                    <circle cx="250" cy="130" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="300" cy="140" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="350" cy="145" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="400" cy="150" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="450" cy="155" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="500" cy="160" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="550" cy="165" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="600" cy="170" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="650" cy="175" r="4" class="point" fill="#1890ff"></circle>
                                    <circle cx="700" cy="180" r="4" class="point" fill="#1890ff"></circle>
                                    
                                    <!-- 趋势线 -->
                                    <path d="M70,90 L170,93" fill="none" stroke="#722ed1" stroke-width="2" stroke-dasharray="5,5"></path>
                                    <path d="M250,130 L700,180" fill="none" stroke="#1890ff" stroke-width="2" stroke-dasharray="5,5"></path>
                                    
                                    <!-- 说明文字 -->
                                    <text x="280" y="60" text-anchor="middle" fill="#722ed1" font-weight="bold" font-size="14">相关性: 0.15</text>
                                    <text x="400" y="40" text-anchor="middle" fill="#1890ff" font-weight="bold" font-size="14">时钟偏差越大，线损率越低(负损越严重)</text>
                                    <text x="475" y="55" text-anchor="middle" fill="#1890ff" font-weight="bold" font-size="12">相关性: -0.94</text>
                                </svg>
                            </div>
                            <div class="chart-legend">
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #722ed1;"></div>
                                    <span>正常台区(时钟偏差小)</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #1890ff;"></div>
                                    <span>时钟同步异常台区(时钟偏差大)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="indicator sub">
                        <div class="indicator-name">时钟同步负损指标(分表) (SM_CLOCK_NEGATIVE_DEVIATION)</div>
                        <div class="indicator-desc">分表时钟同步偏差导致负损程度，通过时钟偏差平均值评估</div>
                        <div class="indicator-formula">AVG(Time_Diff) WHERE IsGM = 0 AND REGION_LOSS_RATIO < 0</div>
                        <div class="visualization">
                            <div class="viz-title">分表与总表时钟偏差对比示例</div>
                            <div class="chart">
                                <svg width="100%" height="100%" viewBox="0 0 800 200" class="bar-chart">
                                    <!-- X轴 -->
                                    <line x1="50" y1="100" x2="750" y2="100" stroke="#ccc" stroke-width="1"></line>
                                    <!-- Y轴 -->
                                    <line x1="50" y1="20" x2="50" y2="180" stroke="#ccc" stroke-width="1"></line>
                                    
                                    <!-- X轴标签 -->
                                    <text x="200" y="120" text-anchor="middle" class="axis-label">正常台区</text>
                                    <text x="400" y="120" text-anchor="middle" class="axis-label">时钟偏差台区1</text>
                                    <text x="600" y="120" text-anchor="middle" class="axis-label">时钟偏差台区2</text>
                                    
                                    <!-- Y轴标签 - 时钟偏差 -->
                                    <text x="35" y="180" text-anchor="end" class="axis-label">-40分钟</text>
                                    <text x="35" y="160" text-anchor="end" class="axis-label">-30分钟</text>
                                    <text x="35" y="140" text-anchor="end" class="axis-label">-20分钟</text>
                                    <text x="35" y="120" text-anchor="end" class="axis-label">-10分钟</text>
                                    <text x="35" y="100" text-anchor="end" class="axis-label">0分钟</text>
                                    <text x="35" y="80" text-anchor="end" class="axis-label">10分钟</text>
                                    <text x="35" y="60" text-anchor="end" class="axis-label">20分钟</text>
                                    <text x="35" y="40" text-anchor="end" class="axis-label">30分钟</text>
                                    <text x="35" y="20" text-anchor="end" class="axis-label">40分钟</text>
                                    <text x="20" y="100" text-anchor="middle" transform="rotate(-90, 20, 100)" font-weight="bold">时钟偏差</text>
                                    
                                    <!-- 零线 -->
                                    <line x1="50" y1="100" x2="750" y2="100" stroke="#ccc" stroke-width="1.5"></line>
                                    
                                    <!-- 总表时钟偏差 -->
                                    <rect x="175" y="95" width="50" height="5" fill="#722ed1"></rect>
                                    <rect x="375" y="85" width="50" height="15" fill="#722ed1"></rect>
                                    <rect x="575" y="140" width="50" height="-40" fill="#722ed1"></rect>
                                    
                                    <!-- 分表时钟偏差 -->
                                    <rect x="175" y="105" width="50" height="-5" fill="#1890ff"></rect>
                                    <rect x="375" y="170" width="50" height="-70" fill="#1890ff"></rect>
                                    <rect x="575" y="40" width="50" height="60" fill="#1890ff"></rect>
                                    
                                    <!-- 偏差值标签 -->
                                    <text x="200" y="90" text-anchor="middle" class="bar-label" font-size="10">+2分钟</text>
                                    <text x="200" y="110" text-anchor="middle" class="bar-label" font-size="10">-2分钟</text>
                                    
                                    <text x="400" y="80" text-anchor="middle" class="bar-label" font-size="10">+6分钟</text>
                                    <text x="400" y="175" text-anchor="middle" class="bar-label" fill="#1890ff" font-size="10" font-weight="bold">-28分钟</text>
                                    
                                    <text x="600" y="135" text-anchor="middle" class="bar-label" font-size="10">-16分钟</text>
                                    <text x="600" y="35" text-anchor="middle" class="bar-label" fill="#1890ff" font-size="10" font-weight="bold">+24分钟</text>
                                    
                                    <!-- 说明文字 -->
                                    <text x="400" y="30" text-anchor="middle" fill="#1890ff" font-weight="bold" font-size="14">总表与分表时钟偏差方向相反导致负损</text>
                                </svg>
                            </div>
                            <div class="chart-legend">
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #722ed1;"></div>
                                    <span>总表时钟偏差</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #1890ff;"></div>
                                    <span>分表时钟偏差</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="indicator-group">
                    <h3>综合评分</h3>
                    <div class="indicator">
                        <div class="indicator-name">长期负损综合评分 (LONG_TERM_NEGATIVE_LOSS_SCORE)</div>
                        <div class="indicator-desc">综合评估台区长期负损风险的评分，通过各项指标加权计算</div>
                        <div class="indicator-formula">0.3*NORM(ABS(LOSS_RATIO)) + 0.15*NORM(GM_CT_NEGATIVE_ABNORMAL) + 0.15*NORM(GM_RELATION_NEGATIVE_ERROR) + 0.15*NORM(GM_WIRING_NEGATIVE_ERROR) + 0.1*NORM(GM_PHASE_NEGATIVE_ERROR) + 0.1*NORM(GM_DER_NEGATIVE_METERING) + 0.05*NORM(GM_CLOCK_NEGATIVE_DEVIATION)</div>
                        <div class="visualization">
                            <div class="viz-title">台区长期负损综合评分示例</div>
                            <div class="chart">
                                <svg width="100%" height="100%" viewBox="0 0 800 200">
                                    <!-- 背景矩形 -->
                                    <rect x="50" y="20" width="700" height="130" fill="#f9f9f9" stroke="#ccc" stroke-width="1"></rect>
                                    
                                    <!-- 台区评分柱状图 -->
                                    <g transform="translate(100, 0)">
                                        <!-- 台区1 - 多因素综合导致 -->
                                        <text x="0" y="40" text-anchor="end" font-size="12">台区A</text>
                                        <rect x="10" y="30" width="600" height="15" fill="#e6f7ff" stroke="#ccc" stroke-width="0.5"></rect>
                                        <rect x="10" y="30" width="180" height="15" fill="#1890ff"></rect>
                                        <rect x="10" y="30" width="90" height="15" fill="#722ed1"></rect>
                                        <rect x="100" y="30" width="90" height="15" fill="#13c2c2"></rect>
                                        <rect x="190" y="30" width="60" height="15" fill="#fa8c16"></rect>
                                        <rect x="250" y="30" width="45" height="15" fill="#eb2f96"></rect>
                                        <rect x="295" y="30" width="75" height="15" fill="#52c41a"></rect>
                                        <text x="620" y="40" text-anchor="start" fill="#1890ff" font-weight="bold" font-size="12">91分</text>
                                        
                                        <!-- 台区2 - CT倍率异常为主 -->
                                        <text x="0" y="65" text-anchor="end" font-size="12">台区B</text>
                                        <rect x="10" y="55" width="600" height="15" fill="#e6f7ff" stroke="#ccc" stroke-width="0.5"></rect>
                                        <rect x="10" y="55" width="150" height="15" fill="#1890ff"></rect>
                                        <rect x="10" y="55" width="140" height="15" fill="#722ed1"></rect>
                                        <rect x="150" y="55" width="20" height="15" fill="#13c2c2"></rect>
                                        <rect x="170" y="55" width="15" height="15" fill="#fa8c16"></rect>
                                        <rect x="185" y="55" width="15" height="15" fill="#eb2f96"></rect>
                                        <text x="620" y="65" text-anchor="start" fill="#1890ff" font-weight="bold" font-size="12">85分</text>
                                        
                                        <!-- 台区3 - 户表关系错误为主 -->
                                        <text x="0" y="90" text-anchor="end" font-size="12">台区C</text>
                                        <rect x="10" y="80" width="600" height="15" fill="#e6f7ff" stroke="#ccc" stroke-width="0.5"></rect>
                                        <rect x="10" y="80" width="120" height="15" fill="#1890ff"></rect>
                                        <rect x="10" y="80" width="30" height="15" fill="#722ed1"></rect>
                                        <rect x="40" y="80" width="120" height="15" fill="#13c2c2"></rect>
                                        <rect x="160" y="80" width="15" height="15" fill="#fa8c16"></rect>
                                        <rect x="175" y="80" width="20" height="15" fill="#eb2f96"></rect>
                                        <text x="620" y="90" text-anchor="start" fill="#1890ff" font-weight="bold" font-size="12">78分</text>
                                        
                                        <!-- 台区4 - 分布式能源计量为主 -->
                                        <text x="0" y="115" text-anchor="end" font-size="12">台区D</text>
                                        <rect x="10" y="105" width="600" height="15" fill="#e6f7ff" stroke="#ccc" stroke-width="0.5"></rect>
                                        <rect x="10" y="105" width="100" height="15" fill="#1890ff"></rect>
                                        <rect x="10" y="105" width="15" height="15" fill="#722ed1"></rect>
                                        <rect x="25" y="105" width="20" height="15" fill="#13c2c2"></rect>
                                        <rect x="45" y="105" width="15" height="15" fill="#fa8c16"></rect>
                                        <rect x="60" y="105" width="90" height="15" fill="#eb2f96"></rect>
                                        <text x="620" y="115" text-anchor="start" fill="#1890ff" font-weight="bold" font-size="12">72分</text>
                                        
                                        <!-- 台区5 - 相位错误为主 -->
                                        <text x="0" y="140" text-anchor="end" font-size="12">台区E</text>
                                        <rect x="10" y="130" width="600" height="15" fill="#e6f7ff" stroke="#ccc" stroke-width="0.5"></rect>
                                        <rect x="10" y="130" width="80" height="15" fill="#1890ff"></rect>
                                        <rect x="10" y="130" width="15" height="15" fill="#722ed1"></rect>
                                        <rect x="25" y="130" width="15" height="15" fill="#13c2c2"></rect>
                                        <rect x="40" y="130" width="80" height="15" fill="#fa8c16"></rect>
                                        <rect x="120" y="130" width="15" height="15" fill="#eb2f96"></rect>
                                        <text x="620" y="140" text-anchor="start" fill="#1890ff" font-weight="bold" font-size="12">65分</text>
                                    </g>
                                    
                                    <!-- 图例 -->
                                    <text x="400" y="170" text-anchor="middle" class="axis-label" font-weight="bold">综合得分及构成要素</text>
                                </svg>
                            </div>
                            <div class="chart-legend">
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #722ed1;"></div>
                                    <span>CT倍率异常</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #13c2c2;"></div>
                                    <span>户表关系错误</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #fa8c16;"></div>
                                    <span>计量接线错误</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #eb2f96;"></div>
                                    <span>分布式能源计量异常</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: #52c41a;"></div>
                                    <span>电表相位设置错误</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header">长期负损指标汇总表</div>
            <div class="card-body">
                <table>
                    <thead>
                        <tr>
                            <th>指标类别</th>
                            <th>总表指标</th>
                            <th>分表指标</th>
                            <th>数据来源</th>
                            <th>判定阈值</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>CT倍率互感器异常</td>
                            <td>GM_CT_NEGATIVE_ABNORMAL</td>
                            <td>SM_CT_NEGATIVE_ABNORMAL</td>
                            <td>C_AR_CT_PT_CHANGE_LOG</td>
                            <td>比值变化 > 40%</td>
                        </tr>
                        <tr>
                            <td>台区户表关系错误</td>
                            <td>GM_RELATION_NEGATIVE_ERROR</td>
                            <td>SM_RELATION_NEGATIVE_ERROR</td>
                            <td>户变关系变更记录</td>
                            <td>相关性 > 0.8且比值 > 1</td>
                        </tr>
                        <tr>
                            <td>计量装置接线错误</td>
                            <td>GM_WIRING_NEGATIVE_ERROR</td>
                            <td>SM_WIRING_NEGATIVE_ERROR</td>
                            <td>异常用电大宽表</td>
                            <td>偏差 > 0.2或事件次数 > 10</td>
                        </tr>
                        <tr>
                            <td>电表正反相设置错误</td>
                            <td>GM_PHASE_NEGATIVE_ERROR</td>
                            <td>SM_PHASE_NEGATIVE_ERROR</td>
                            <td>异常用电大宽表</td>
                            <td>反向电量占比 > 30%</td>
                        </tr>
                        <tr>
                            <td>分布式能源反向计量异常</td>
                            <td>GM_DER_NEGATIVE_METERING</td>
                            <td>SM_DER_NEGATIVE_METERING</td>
                            <td>异常用电大宽表</td>
                            <td>相关性 < -0.7或错误计量配置比例 > 50%</td>
                        </tr>
                        <tr>
                            <td>时钟同步偏差</td>
                            <td>GM_CLOCK_NEGATIVE_DEVIATION</td>
                            <td>SM_CLOCK_NEGATIVE_DEVIATION</td>
                            <td>异常用电大宽表</td>
                            <td>相关性 < -0.7或方向相反且偏差 > 15分钟</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="card">
            <div class="card-header">长期负损分析应用流程</div>
            <div class="card-body">
                <ol>
                    <li>基于台区负损持续天数(TQ_NEGATIVE_LOSS_DAYS)，筛选出连续负损超过90天的台区</li>
                    <li>计算长期负损台区的综合评分(LONG_TERM_NEGATIVE_LOSS_SCORE)，按照得分从高到低排序</li>
                    <li>对于每个台区，分别计算6个原因类别的总表和分表指标值</li>
                    <li>根据各指标的阈值，判断导致长期负损的最可能原因</li>
                    <li>针对性制定现场核查和整改措施</li>
                </ol>
            </div>
        </div>

        <div class="diagram">
            <!-- SVG示意图将通过数据可视化工具生成 -->
            <svg>
                <g transform="translate(50, 20)">
                    <!-- 主节点 -->
                    <g transform="translate(450, 200)">
                        <rect width="150" height="60" rx="5" ry="5" fill="#1890ff" stroke="#1890ff"></rect>
                        <text x="75" y="35" text-anchor="middle" fill="white" font-weight="bold">长期负损</text>
                    </g>
                    
                    <!-- 原因节点 -->
                    <g transform="translate(150, 50)">
                        <rect width="150" height="50" rx="5" ry="5" fill="#722ed1" stroke="#722ed1"></rect>
                        <text x="75" y="30" text-anchor="middle" fill="white">CT倍率互感器异常</text>
                    </g>
                    <g transform="translate(320, 50)">
                        <rect width="150" height="50" rx="5" ry="5" fill="#13c2c2" stroke="#13c2c2"></rect>
                        <text x="75" y="30" text-anchor="middle" fill="white">台区户表关系错误</text>
                    </g>
                    <g transform="translate(490, 50)">
                        <rect width="150" height="50" rx="5" ry="5" fill="#fa8c16" stroke="#fa8c16"></rect>
                        <text x="75" y="30" text-anchor="middle" fill="white">计量装置接线错误</text>
                    </g>
                    <g transform="translate(660, 50)">
                        <rect width="150" height="50" rx="5" ry="5" fill="#52c41a" stroke="#52c41a"></rect>
                        <text x="75" y="30" text-anchor="middle" fill="white">电表正反相设置错误</text>
                    </g>
                    <g transform="translate(250, 350)">
                        <rect width="150" height="50" rx="5" ry="5" fill="#eb2f96" stroke="#eb2f96"></rect>
                        <text x="75" y="30" text-anchor="middle" fill="white">分布式能源计量异常</text>
                    </g>
                    <g transform="translate(550, 350)">
                        <rect width="150" height="50" rx="5" ry="5" fill="#f759ab" stroke="#f759ab"></rect>
                        <text x="75" y="30" text-anchor="middle" fill="white">时钟同步偏差</text>
                    </g>
                    
                    <!-- 连接线 -->
                    <line x1="225" y1="100" x2="450" y2="200" stroke="#333" stroke-width="2"></line>
                    <line x1="395" y1="100" x2="450" y2="200" stroke="#333" stroke-width="2"></line>
                    <line x1="565" y1="100" x2="500" y2="200" stroke="#333" stroke-width="2"></line>
                    <line x1="735" y1="100" x2="525" y2="200" stroke="#333" stroke-width="2"></line>
                    <line x1="325" y1="350" x2="450" y2="260" stroke="#333" stroke-width="2"></line>
                    <line x1="625" y1="350" x2="500" y2="260" stroke="#333" stroke-width="2"></line>
                </g>
            </svg>
        </div>

        <footer>
            <p>© 2023 电网线损分析系统 - 长期负损指标体系 v1.0</p>
        </footer>
    </div>
</body>
</html> 